{"version":3,"file":"ng-cee-core-cee-api-validation.component-BNoK7ukE.mjs","sources":["../../../../../Angular-17/ESF-Angular-WFE-Library/projects/ng-cee-core/src/lib/field-components/cee-api-validation/cee-api-validation.component.html","../../../../../Angular-17/ESF-Angular-WFE-Library/projects/ng-cee-core/src/lib/field-components/cee-api-validation/cee-api-validation.component.ts"],"sourcesContent":["<div *ngIf=\"isVisible\">\r\n<mat-tree [dataSource]=\"dataSource\" [treeControl]=\"treeControl\" class=\"example-tree\">\r\n    <!-- Leaf node template (No children) -->\r\n    <mat-tree-node *matTreeNodeDef=\"let node\" class=\"tree-leaf-node\">\r\n        <li class=\"mat-tree-node leaf-node\">\r\n            <button mat-icon-button disabled class=\"leaf-icon-button\"></button>\r\n\r\n            <!-- Show solid circle before child nodes -->\r\n            <span *ngIf=\"node.type === 'child'\" \r\n                  class=\"error-indicator error-indicator-leaf\" \r\n                  [ngClass]=\"{'error-circle': node.errorType === 'error', 'warning-circle': node.errorType === 'warning'}\">\r\n            </span>\r\n\r\n            <span class=\"leaf-text\">\r\n                {{ node.name }}\r\n                <span *ngIf=\"node.errorType === 'error'\" class=\"api-validation-label api-label-error\">(error)</span>\r\n                <span *ngIf=\"node.errorType === 'warning'\" class=\"api-validation-label api-label-warning\">(warning)</span>\r\n              </span>\r\n            <button *ngIf=\"shouldShowEditButton(node)\" mat-icon-button (click)=\"onEditClick(node)\" class=\"edit-button-leaf\">\r\n                <mat-icon>edit</mat-icon>\r\n            </button>\r\n        </li>\r\n    </mat-tree-node>\r\n\r\n    <!-- Expandable node template (Parent with children) -->\r\n    <mat-nested-tree-node *matTreeNodeDef=\"let node; when: hasChild\" class=\"tree-parent-node\">\r\n        <li class=\"parent-node\">\r\n            <div class=\"mat-tree-node parent-content\" (click)=\"onNodeClick(node, $event)\">\r\n                <!-- Removed the arrow button -->\r\n                <span class=\"parent-text\">{{ node.name }}</span>\r\n                <button *ngIf=\"shouldShowEditButton(node)\" mat-icon-button (click)=\"onEditClick(node)\" class=\"edit-button-parent\">\r\n                    <mat-icon>edit</mat-icon>\r\n                </button>\r\n            </div>\r\n            <ul [class.example-tree-invisible]=\"!treeControl.isExpanded(node)\" class=\"parent-children\">\r\n                <ng-container matTreeNodeOutlet></ng-container>\r\n            </ul>\r\n        </li>\r\n    </mat-nested-tree-node>\r\n</mat-tree>\r\n</div>","import { Component, OnInit,Renderer2, Input, OnDestroy, HostListener, OnChanges, SimpleChanges, ChangeDetectorRef } from '@angular/core';\r\nimport { BaseView } from '../cee-base-class';\r\nimport { UserDataHandlerService } from '../../services/user-data-handler.service';\r\nimport { WfeStepLoaderService } from '../../services/wfe-step-loader.service';\r\nimport { SharedEventsServiceService } from '../../services/shared-events-service.service';\r\n\r\nimport { AppDataService } from '../../models/app-data/app-data.service';\r\nimport { ApiDataService } from '../../models/api-data/api-data.service';\r\nimport { MatDialog as MatDialog } from '@angular/material/dialog';\r\nimport { MatSnackBar as MatSnackBar } from '@angular/material/snack-bar';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { FlatUnflat } from '../../utils/flat-unflat-json';\r\nimport { DomSanitizer, SafeResourceUrl } from '@angular/platform-browser';\r\nimport { CeeApiService } from '../../services/cee-api-service.service';\r\nimport { Router } from '@angular/router';\r\nimport { Subscription } from 'rxjs';\r\nimport { CEEInternalEmitterService } from '../../services/internal-cee-emitter-service.service';\r\nimport { MatTooltipModule } from '@angular/material/tooltip';\r\nimport { CommonModule } from '@angular/common';\r\nimport { TooltipModule } from '../../directives/tooltip/tooltip.module';\r\nimport { MatMenuModule } from '@angular/material/menu';\r\nimport { HighlightPipe } from '../../pipes/highlight.pipe';\r\n\r\nimport { NestedTreeControl } from '@angular/cdk/tree';\r\nimport { MatTreeNestedDataSource } from '@angular/material/tree';\r\nimport { MatIconModule } from '@angular/material/icon';\r\nimport { MatButtonModule } from '@angular/material/button';\r\nimport { MatTreeModule } from '@angular/material/tree';\r\nimport { WFEEventListHandler } from '../../utils/wfe-event-list-handler-util';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { AccordionService } from '../../services/accordian-services';\r\nimport { ExternalResponse } from '../../utils/external-request-response.util';\r\n\r\n\r\n\r\ninterface ITreeNode {\r\n    name: string;\r\n    borrower_id?: string; // ✅ Ensure borrower_id exists\r\n    main_parent_name?: string;\r\n    children?: ITreeNode[];\r\n    type?: 'main_parent' | 'parent' | 'child';\r\n    errorType?: 'error' | 'warning'; \r\n    blockName?: string;\r\n    stepName?:string;\r\n    api_key?: string;\r\n}\r\n\r\nfunction transformResponseToTree(data: any): ITreeNode[] {\r\n    if (!data?.result?.main_parent) return [];\r\n\r\n    const treeMap = new Map<string, ITreeNode>();\r\n\r\n    data.result.main_parent.forEach((item: any) => {\r\n        const fieldChildren: ITreeNode[] = item.fieldInfo?.map((field: any) => ({\r\n            name: `${field.errorMessage}`,\r\n            borrower_id: item.borrower_id,\r\n            blockName: field.block_name,\r\n            stepName: field.step_name,\r\n            api_key: field.api_key || \"\",\r\n            children: [],\r\n            type: 'child',\r\n            errorType: field.type\r\n        })) || [];\r\n\r\n        if (item.borrower_id) {\r\n            // ✅ Store borrower_id at the parent level\r\n            if (!treeMap.has(item.parent)) {\r\n                treeMap.set(item.parent, {\r\n                    name: item.parent,\r\n                    borrower_id: item.borrower_id, // ✅ Assign borrower_id\r\n                    blockName: fieldChildren.length > 0 ? fieldChildren[0].blockName : null,\r\n                    stepName: fieldChildren.length > 0 ? fieldChildren[0].stepName : null,\r\n                    children: fieldChildren,\r\n                    type: 'parent'\r\n                });\r\n            }\r\n        } else {\r\n            treeMap.set(item.parent, {\r\n                name: item.parent,\r\n                borrower_id: \"\", // Ensure borrower_id exists\r\n                blockName: fieldChildren.length > 0 ? fieldChildren[0].blockName : null,\r\n                stepName: fieldChildren.length > 0 ? fieldChildren[0].stepName : null,\r\n                children: fieldChildren,\r\n                type: 'parent'\r\n            });\r\n        }\r\n    });\r\n\r\n    return Array.from(treeMap.values());\r\n}\r\n\r\n@Component({\r\n    selector: 'app-cee-api-validation',\r\n    templateUrl: './cee-api-validation.component.html',\r\n    styleUrls: ['./cee-api-validation.component.scss', '../field-common.scss'],\r\n    standalone: true,\r\n    imports: [MatTooltipModule, CommonModule, TooltipModule, MatMenuModule, HighlightPipe, MatTreeModule, MatButtonModule, MatIconModule]\r\n})\r\nexport class CeeApiValidationComponent extends BaseView implements OnInit, OnDestroy, OnChanges {\r\n\r\n    @Input() declare stepId: any;\r\n    @Input() declare fieldData: any;\r\n    @Input() primaryKeyIndex: any;\r\n    @Input() keepState = false;\r\n    @Input() rowData: any;\r\n    @Input() mandatoryCondition: any;\r\n    @Input() editableCondition: any;\r\n    @Input() visibleCondition: any;\r\n    html_id = '';\r\n    fieldLabels = [];\r\n    labelEmitter: Subscription;\r\n    _iframeLabel: string;\r\n    iframeLabel: SafeResourceUrl;\r\n    tooltipText: any = \"\";\r\n    expandAll: any = true;\r\n\r\n    showTruncatedList: boolean = false;\r\n    showItemCount: number = 1;\r\n    showItemKeys: any = ['id', 'value'];\r\n    showItemClickable: boolean = false;\r\n    showItemRoute: any = '';\r\n    showItemRouteNewTab: boolean = false;\r\n    highlight: string;\r\n\r\n    treeControl = new NestedTreeControl<ITreeNode>(node => node.children);\r\n    dataSource = new MatTreeNestedDataSource<ITreeNode>();\r\n    keyValueMap: Map<string, string> = new Map();\r\n    borrowerIdMap: Map<string, number> = new Map();\r\n    responseResult: any;\r\n\r\n    mainParentArray: any[] = [];\r\n\r\n    private flatUnflat: FlatUnflat;\r\n    constructor(\r\n        public sanitizer: DomSanitizer,\r\n        public userDataHandlerService: UserDataHandlerService,\r\n        public sharedEventsService: SharedEventsServiceService,\r\n        public internalCEEEmitter: CEEInternalEmitterService,\r\n        public appDataService: AppDataService,\r\n        public apiDataService: ApiDataService,\r\n        public wfeStepLoaderService: WfeStepLoaderService,\r\n        private accordionService: AccordionService,\r\n        public dialog: MatDialog,\r\n        public snackBar: MatSnackBar,\r\n        public http: HttpClient,\r\n        public ceeApiService: CeeApiService,\r\n        public router: Router,\r\n        private cdRef: ChangeDetectorRef,\r\n        private renderer: Renderer2,\r\n        public eventListHandler: WFEEventListHandler,\r\n        private route: ActivatedRoute\r\n    ) {\r\n        super(\r\n            userDataHandlerService,\r\n            sharedEventsService,\r\n            internalCEEEmitter, appDataService, apiDataService, wfeStepLoaderService, dialog, snackBar, http, ceeApiService, router);\r\n        this.flatUnflat = new FlatUnflat(appDataService);\r\n    }\r\n\r\n    ngOnInit() {\r\n        this.http.get<any>('./assets/jsons/lender_mapping.json').subscribe({\r\n            next: (response) => {\r\n                if (response.result && Array.isArray(response.result)) {\r\n                    this.keyValueMap.clear(); // Clear previous data\r\n       \r\n                    this.responseResult = response.result;\r\n                    response.result.forEach(obj => {\r\n                        const key = obj.response_value; // Extract response_value as key\r\n                        const value = obj.unique_id; // Extract unique_id as value\r\n       \r\n                        this.keyValueMap.set(key, value); // Store in Map\r\n                    });\r\n       \r\n                }\r\n            },\r\n            error: (error) => {\r\n                console.error(\"Error fetching API data:\", error);\r\n            }\r\n        });\r\n \r\n       \r\n \r\n        this.init(this.stepId, this.fieldData, this.keepState, this.rowData, this.cdRef);\r\n    }\r\n\r\n    hasChild = (_: number, node: ITreeNode) => !!node.children && node.children.length > 0;\r\n\r\n\r\n    //@HostListener('window:beforeunload')\r\n    onDestroy() {\r\n        this.onViewUnload();\r\n        this.unsubscribe(); // unsubscribe the event on destroy\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        this.onViewUnload();\r\n        this.unsubscribe(); // unsubscribe the event on destroy\r\n    }\r\n\r\n    unsubscribe() {\r\n        if (this.labelEmitter) {\r\n            this.labelEmitter.unsubscribe();\r\n        }\r\n    }\r\n\r\n    concatData() { }\r\n    onViewDataInit(): void {\r\n        this.html_id = this.fieldData.html_id\r\n        // END\r\n        this.tooltipText = (this.fieldData && this.fieldData.tooltip) ? this.fieldData.tooltip.toString().replace(/(<([^>]+)>)/ig, '') : \"\";\r\n        this.tabIndexValue = this.additionalParameter['TabIndex'];\r\n        this.fieldData['field_label'] += \" \";\r\n        this.fieldLabels = []; // TODO : Check Implementation\r\n        this.fieldLabels.push(this.fieldData.field_label);\r\n        const apiKey = localStorage.getItem('singleApiKey') === 'true' ? this.fieldData.api_key : this.fieldData.response_api_key;\r\n        if (apiKey || (this.fieldData.field_label && this.fieldData.field_label.includes('((dynamic))'))) {\r\n            if (this.rowData) {\r\n                if (this.rowData.hasOwnProperty('data')) {\r\n                    this.fieldData = this.setDynamicLabelUtil.getDynamicValue(this.fieldData, this.rowData.data);\r\n                }\r\n                if (this.rowData.hasOwnProperty('value')) {\r\n                    this.fieldLabels = [];\r\n                    if (this.fieldData.possible_values && this.fieldData.possible_values.length > 0) {\r\n                        for (const val of this.fieldData.possible_values) {\r\n                            if (this.commonUtil.getPossibleId(val) == this.rowData.value) {\r\n                                this.fieldLabels.push(this.commonUtil.getPossibleValue(val));\r\n                            }\r\n                        }\r\n                    } else {\r\n                        if (this.rowData.value !== undefined) {\r\n                            if (this.rowData.value && this.rowData.value.includes('((dynamic))')) {\r\n                                this.fieldLabels.push(this.setDynamicLabelUtil.getDynamicValue({ field_label: this.rowData.value }).field_label);\r\n                            } else {\r\n                                this.fieldLabels.push(this.getDataFormattedValue(this.rowData.value));\r\n                            }\r\n                        } else {\r\n                            this.fieldLabels = [this.getDataFormattedValue(this.fieldData.field_label)];\r\n                        }\r\n                    }\r\n                }\r\n                if (this.fieldData.hasOwnProperty('additional_parameters_config') && this.fieldData.additional_parameters_config && !Array.isArray(this.fieldData.additional_parameters_config)) {\r\n                    this.fieldLabels = [this.fieldData.additional_parameters_config];\r\n                }\r\n            } else if (this.fieldValue !== undefined && this.fieldValue !== null) {\r\n                this.fieldLabels = [];\r\n                this.fieldValue = this.fieldValue ? this.getDataFormattedValue(this.fieldValue) : this.fieldValue;\r\n                this.fieldLabels.push(this.fieldValue);\r\n            }\r\n        }\r\n\r\n        // set dynamic label on load\r\n        if (!this.rowData) {\r\n            this.getDynamicLabel();\r\n            this.labelEmitter = this.sharedEventsService.emitOnDataSetOrUpdated.subscribe((res: any) => {\r\n                const data = {};\r\n                data[res.apiKey] = res.value;\r\n                this.getDynamicLabel(data);\r\n                this.getDynamicIframe(data);\r\n            });\r\n        }\r\n        else if (this.fieldData.field_label.includes('%repeatablePos%')) {\r\n            this.fieldLabels[0] = this.fieldData.field_label.replace('%repeatablePos%', this.rowData.position + 1)\r\n        }\r\n\r\n        if (this.additionalParameter['iframe']) {\r\n            if (!this.additionalParameter['iframe'].includes('((dynamic))')) {\r\n                this.iframeLabel = this.sanitizer.bypassSecurityTrustResourceUrl(this.additionalParameter['iframe']);\r\n            }\r\n            this.getDynamicIframe();\r\n        }\r\n        if (this.additionalParameter['CEE_MaskNumberLimit']) {\r\n            let formats = this.additionalParameter['CEE_MaskNumberLimit'].split('|');\r\n            let field_box = this.commonUtil.getMaskedData(this.fieldLabels[0], formats[0], formats[1], formats[2]);\r\n            this.fieldLabels = [field_box];\r\n        }\r\n        if (this.rowData) {\r\n            this.sharedEventsService.emitOnApplyFilter.subscribe(data => {\r\n                if (this.rowData.html_id.includes(data.source)) {\r\n                    this.highlight = data.highlight\r\n                }\r\n            })\r\n        }\r\n\r\n        this.showTruncatedList = (this.additionalParameter['CEE_show_list_items_trancated'] && this.additionalParameter['CEE_show_list_items_trancated'].toLowerCase() == 'true') ? true : this.showTruncatedList;\r\n        this.showItemCount = (this.additionalParameter['CEE_show_list_items_limit'] && !isNaN(this.additionalParameter['CEE_show_list_items_limit'])) ? Number(this.additionalParameter['CEE_show_list_items_limit']) : 1;\r\n        this.showItemKeys = this.additionalParameter['CEE_show_list_items_key'] ? this.additionalParameter['CEE_show_list_items_key'].split('||') : this.showItemKeys;\r\n        this.showItemClickable = (this.additionalParameter['CEE_show_list_items_clickable'] && this.additionalParameter['CEE_show_list_items_clickable'].toLowerCase() == 'true') ? true : this.showItemClickable;\r\n        this.showItemRoute = this.additionalParameter['CEE_show_list_items_route'] ? this.additionalParameter['CEE_show_list_items_route'] : '#';\r\n        this.showItemRouteNewTab = (this.additionalParameter['CEE_show_list_items_route_new_tab'] && this.additionalParameter['CEE_show_list_items_route_new_tab'].toLowerCase() == 'true') ? true : this.showItemRouteNewTab;\r\n    }\r\n\r\n    prepareLink(searchStr, replaceStr) {\r\n        return this.showItemRoute.replaceAll(searchStr, replaceStr)\r\n    }\r\n\r\n\r\n    getDynamicIframe(data?) {\r\n        if (this.additionalParameter['iframe'] && this.additionalParameter['iframe'].includes('((dynamic))')) {\r\n            const iframeLabel = this.setDynamicLabelUtil.getDynamicValue({ field_label: this.additionalParameter['iframe'] }, data).field_label;\r\n            if (this._iframeLabel !== iframeLabel) {\r\n                this._iframeLabel = iframeLabel;\r\n                this.iframeLabel = '';\r\n                const _this = this;\r\n                setTimeout(() => {\r\n                    _this.iframeLabel = this.sanitizer.bypassSecurityTrustResourceUrl(iframeLabel);\r\n                }, 0);\r\n            }\r\n        }\r\n    }\r\n\r\n    onAPICallbackData(data: any): void {\r\n        const apiKey = this.fieldData.response_api_key.split('|')[0];\r\n        const handlerData2 = this.apiDataService.getApiDataByHandler('getDealBorrowers');//getDealBorrowers\r\n        const handlerData = this.apiDataService.getApiDataByHandler(apiKey.split('##')[0]);\r\n\r\n        this.borrowerIdMap = new Map<string, number>(); // Store borrower_id -> index\r\n        if (handlerData2?.value) {\r\n        Object.keys(handlerData2.value).forEach(key => {\r\n            const match = key.match(/getDealBorrowers##data\\[(\\d+)\\]\\.borrower_id/);\r\n            if (match) {\r\n                const index = parseInt(match[1]); // Extract index\r\n                const borrowerId = handlerData2.value[key]; // Get borrower_id value\r\n                this.borrowerIdMap.set(borrowerId, index);\r\n            }\r\n        });\r\n    }\r\n    \r\n        // Transform the API response using getApiKeyValuePair()\r\n        var apiKeyValue = this.getApiKeyValuePair(handlerData);\r\n        this.dataSource.data = transformResponseToTree(apiKeyValue);\r\n        const expandAllParam = this.fieldData.additional_parameters?.find(param => param.parameter_type === \"CEE_ExpandAll\");\r\n        this.expandAll = expandAllParam ? expandAllParam.value.toLowerCase() === 'true' : false;\r\n    \r\n        setTimeout(() => {\r\n            this.treeControl.dataNodes = this.dataSource.data;\r\n            this.treeControl.expandAll();\r\n    \r\n            if (this.expandAll) {\r\n                this.expandAllNodes();\r\n            } else {\r\n                this.collapseAllNodes();\r\n            }\r\n        }, 100);\r\n    }\r\n    \r\n    \r\n\r\n    onAPICallback(data: any): void {\r\n        this.onAPICallbackData(data);\r\n        \r\n        if (this.rowData?.response_api_key && this.rowData?.response_api_key.length === 2) {\r\n            let resData = data.hasOwnProperty(this.rowData.response_api_key[1]) ? data[this.rowData.response_api_key[1]] : null;\r\n            resData = this.getDataFormattedValue(resData);\r\n            this.fieldLabels = this.returnLabelsMapPossibleValues([resData]);\r\n        }\r\n        if (!this.rowData) { // if rowData is null\r\n            data = this.flatUnflat.createNestedObject(data);\r\n            this.getDynamicLabel(data);\r\n            let resData = this.setApiCallBackDataUtil.setApiCallBackData(this.fieldData, data);\r\n            if (resData !== null && resData !== undefined) {\r\n                if (!Array.isArray(resData) && this.additionalParameter['CEE_STRING_FORMAT']) {\r\n                    resData = this.wfeStepLoaderService.manipulateString(this.additionalParameter['CEE_STRING_FORMAT'], resData);\r\n                }\r\n                if (Array.isArray(resData)) {\r\n                    this.fieldLabels = this.returnLabelsMapPossibleValues(resData);\r\n                } else {\r\n                    resData = this.getDataFormattedValue(resData);\r\n                    this.fieldLabels = this.returnLabelsMapPossibleValues([resData]);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this.getDynamicLabel(data, true);\r\n        }\r\n    }\r\n\r\n    getDataFormattedValue(data) {\r\n        // For Data Format\r\n        try {\r\n            if (this.additionalParameter['Data Format']) {\r\n                const formats = this.additionalParameter['Data Format'].split('||').map(str => str && str.trim());\r\n                const transformType = formats[0] == \"mask\" ? \"maskLabel\" : formats[0];\r\n                formats.shift();\r\n                return this.setDynamicLabelUtil.returnFormattedValue(data, transformType, formats);\r\n                // switch (formats[0].toLowerCase()) {\r\n                //     case 'currency':\r\n                //         return `${getCurrencySymbol(formats[1].trim(), 'narrow')}` +\r\n                //             `${Number(data).toFixed(Number(formats[2].trim())).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}`;\r\n                //     case 'time':\r\n                //         return moment(Number(data)).format(formats[1].trim());\r\n                //     case 'date':\r\n                //         return moment(data).format(formats[1].trim());\r\n                //     default:\r\n                //         return data;\r\n                // }\r\n            }\r\n        } catch (error) {\r\n            console.error(`Something went wrong while transforming data !!!: ${error}`);\r\n        }\r\n        return data;\r\n    }\r\n    getDynamicLabel(data?, useSecondaryApiKey: boolean = false) {\r\n        if (this.fieldData.field_label && this.fieldData.field_label.includes('((dynamic))') ||\r\n            this.fieldData.field_label_config && this.fieldData.field_label_config.includes('((dynamic))')) {\r\n            const existingLabel = this.fieldData.field_label;\r\n\r\n            // substitutue repeatablePos and [*]\r\n            let i = this.commonUtil.extractLastValue(this.fieldData.html_id, \"-\");\r\n            let key = this.fieldData.field_label;\r\n            if (key.includes('%repeatablePos%')) {\r\n                key = key.replace('%repeatablePos%', (Number(i) + 1));\r\n            }\r\n            let unique_id = this.fieldData.html_id;\r\n            key = this.commonUtil.findIndicesAndSubstituteStars(key, unique_id, \"-\");\r\n            this.fieldData.field_label = key;\r\n\r\n            this.fieldData = this.setDynamicLabelUtil.getDynamicValue(this.fieldData, data, useSecondaryApiKey);\r\n            if (this.fieldData.field_label != null && this.fieldData.field_label !== existingLabel) {\r\n                this.fieldLabels = [];\r\n                this.fieldLabels.push(this.fieldData.field_label);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * function returns a map with possible value id to the value\r\n     * @param values api response data\r\n     */\r\n    returnLabelsMapPossibleValues(values: Array<any>) {\r\n        let data = values;\r\n        for (const val of values) {\r\n            if (this.fieldData.possible_values && this.fieldData.possible_values.length > 0) {\r\n                data = this.fieldData.possible_values.map(pv => {\r\n                    if (this.commonUtil.getPossibleId(pv) == val) {\r\n                        return this.commonUtil.getPossibleValue(pv);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n\r\n    onEmptySession(data: any) {\r\n    }\r\n\r\n    handleCustomFunction(get_data: any) {\r\n        let data = [];\r\n        let unique_id_value = '';\r\n        if (typeof get_data === 'object') {\r\n            Object.keys(get_data).forEach((key, value) => {\r\n                data.push(key);\r\n            });\r\n            unique_id_value = this.fieldData.unique_id;\r\n        }\r\n        if (data.includes(unique_id_value)) {\r\n            this.fieldLabels = [get_data[unique_id_value]];\r\n            // this.inputValue = get_data[unique_id_value];\r\n            // this.updateFieldData(this.inputValue);\r\n        }\r\n    }\r\n\r\n    setFieldValueOnSetValuesEvent(data: object) {\r\n\r\n    }\r\n\r\n    setFieldStateOnStateChangeEvent(data: object) {\r\n\r\n    }\r\n\r\n    checkIfIframe(value: string) {\r\n        if (value.includes('iframe')) {\r\n            return this.sanitizer.bypassSecurityTrustHtml(value);\r\n        } else {\r\n            return this.getDataFormattedValue(value);\r\n        }\r\n    }\r\n\r\n    updateStateHistory(data: any): void {\r\n    }\r\n\r\n    toggleLanguage(data: object) {\r\n\r\n    }\r\n\r\n    ngOnChanges(changes: SimpleChanges): void {\r\n        if (changes.editableCondition) {\r\n            this.setConditions(changes.editableCondition.currentValue, 'isEditable');\r\n        }\r\n        if (changes.visibleCondition) {\r\n            this.setConditions(changes.visibleCondition.currentValue, 'isVisible');\r\n        }\r\n        if (changes.mandatoryCondition) {\r\n            this.setConditions(changes.mandatoryCondition.currentValue, 'isMandatory');\r\n        }\r\n        if (changes.rowData && changes.rowData.currentValue &&\r\n            this.fieldLabels[0] !== changes.rowData.currentValue.value) {\r\n            if (this.fieldData.possible_values && this.fieldData.possible_values.length > 0) {\r\n                for (const val of this.fieldData.possible_values) {\r\n                    if (this.commonUtil.getPossibleId(val) == changes.rowData.currentValue.value) {\r\n                        this.fieldLabels.push(this.commonUtil.getPossibleValue(val));\r\n                    }\r\n                }\r\n            } else {\r\n                this.fieldLabels = [changes.rowData.currentValue.value];\r\n            }\r\n        }\r\n    }\r\n\r\n    onButtonClick(node: ITreeNode) {\r\n    }\r\n\r\n    isMainParent(node: ITreeNode): boolean {\r\n        return this.dataSource.data.some(parent => parent.name === node.name);\r\n    }\r\n\r\n    shouldShowEditButton(node: ITreeNode): boolean {\r\n        const additionalParameters = this.fieldData.additional_parameters || [];\r\n        const editOnFieldLevelParam = additionalParameters.find(param => param.parameter_type === \"CEE_EditOnFieldLevel\");\r\n\r\n        let editOnFieldLevel = editOnFieldLevelParam ? editOnFieldLevelParam.value : \"0\";\r\n        if (node.type === 'main_parent') {\r\n            return false;\r\n        }\r\n\r\n        if (editOnFieldLevel === \"1\") {\r\n            return node.type === 'child';\r\n        } else {\r\n            return node.type === 'parent';\r\n        }\r\n    }\r\n\r\n    isFieldLavel(node: ITreeNode): boolean {\r\n        const additionalParameters = this.fieldData.additional_parameters || [];\r\n        const editOnFieldLevelParam = additionalParameters.find(param => param.parameter_type === \"CEE_EditOnFieldLevel\");\r\n        let editOnFieldLevel = editOnFieldLevelParam ? editOnFieldLevelParam.value : \"0\"; // Default to 0 if not found\r\n   \r\n        if (editOnFieldLevel === \"1\") {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n     getFirstPathSegment(url: string): string {\r\n        const pathSegments = url.split('/').filter(segment => segment !== \"\");\r\n        return pathSegments.length > 0 ? pathSegments[0] : \"\";\r\n    }\r\n\r\n\r\n    onEditClick(node: ITreeNode) {\r\n            let stepData: any = this.wfeStepLoaderService.stepData\r\n            let stepNameCurrent: any = stepData.step_name.replace(/\\s+/g, '-').toLowerCase();\r\n            var extractedPath: any;\r\n            const apiKey = node.api_key;\r\n            let customNode: ITreeNode = JSON.parse(JSON.stringify(node));\r\n            const mappingEntry = this.responseResult.find(entry => entry.response_value === node.api_key) ? this.responseResult.find(entry => entry.response_value === node.api_key) : this.responseResult.find(entry => entry.response_value === node.blockName);\r\n            const hasUniqueId = mappingEntry && !!mappingEntry.unique_id;\r\n            const hasUniquestepId = mappingEntry && !!mappingEntry.step_name;\r\n            customNode.blockName = hasUniqueId ? mappingEntry.unique_id : null;\r\n            if(customNode.stepName == \"\"){\r\n                customNode.stepName = hasUniquestepId ? mappingEntry.step_name : null;\r\n            }\r\n            if (apiKey) {\r\n                localStorage.setItem('selectedApiKey', apiKey);\r\n            }\r\n            let stepName = customNode.stepName.replace(/_/g, \"-\");\r\n            if(stepName == this.getFirstPathSegment(this.router.url)){\r\n                let stepReact = stepName == \"deal-information\" ? true : false;\r\n                if (stepReact) {\r\n                        let customEvent = {\r\n                                    type : \"error_actions\",\r\n                                    data : customNode\r\n                                }\r\n                this.sharedEventsService.emitToreactEmitter.emit(customEvent);\r\n                } else {\r\n                    this.scrollToView(customNode, stepReact);\r\n                }\r\n            } \r\n            else {\r\n                localStorage.setItem('borrowerIdMap', JSON.stringify(Object.fromEntries(this.borrowerIdMap)));\r\n                localStorage.setItem('keyValueMap', JSON.stringify(Object.fromEntries(this.keyValueMap)));\r\n                localStorage.setItem('isScroll', \"true\");\r\n                const isFieldLevel = this.isFieldLavel(customNode);\r\n                localStorage.setItem('isFieldLevel',''+isFieldLevel);\r\n                setTimeout(() => {\r\n                    if (this.route && this.route.snapshot && this.route.snapshot['_routerState']) {\r\n                        const fullPath = this.route.snapshot['_routerState'].url || '';\r\n                        // const mappingEntry = this.responseResult.find(entry => entry.response_value === node.api_key) ? this.responseResult.find(entry => entry.response_value === node.api_key) : this.responseResult.find(entry => entry.response_value === node.blockName);\r\n                        // const hasUniqueId = mappingEntry && !!mappingEntry.unique_id;\r\n                        // const hasUniquestepId = mappingEntry && !!mappingEntry.step_name;\r\n                        // // const stepName = hasUniquestepId ? mappingEntry.step_name : '';\r\n                        // let customNode: ITreeNode = JSON.parse(JSON.stringify(node));\r\n                        // // node.blockName = hasUniqueId ? mappingEntry.unique_id : null;\r\n                        // customNode.blockName = hasUniqueId ? mappingEntry.unique_id : null;\r\n                        // customNode.stepName = hasUniquestepId ? mappingEntry.step_name : null;\r\n                        let customEvent: any = {\r\n                                type : \"error_actions\",\r\n                                data : customNode\r\n                        }\r\n                        localStorage.setItem('lender-data', JSON.stringify(customNode));\r\n                        this.sharedEventsService.emitToreactEmitter.emit(customEvent);\r\n                        if (fullPath) {\r\n                            extractedPath = fullPath.replace(`/${stepNameCurrent}/`,  `/${customNode.stepName}/`);\r\n                        }\r\n                    }\r\n                    const newUrl = extractedPath;\r\n                    // const newUrl = `/${stepName}/${extractedPath}`;\r\n                    this.eventListHandler.redirectToHref(newUrl, null, \"_self\");\r\n                }, 100);\r\n            }\r\n    }\r\n\r\n    scrollWithRetryParent(elementId: string, borrowerIndex: number, retries: number = 30, delay: number = 3000) {\r\n        if (!elementId) return;\r\n    \r\n        const fullId = `${elementId}$${borrowerIndex}`;\r\n        const allElements = document.querySelectorAll<HTMLElement>('[id]');\r\n    \r\n        let target: HTMLElement | null = null;\r\n    \r\n        allElements.forEach(el => {\r\n            if (el.id.includes(fullId)) {\r\n                target = el;\r\n            }\r\n        });\r\n    \r\n        if (target) {\r\n            this.scrollToSection(target.id);\r\n        } else if (retries > 0) {\r\n            setTimeout(() => this.scrollWithRetryParent(elementId,borrowerIndex, retries - 1, delay), delay);\r\n        } else {\r\n            console.error(`Element containing \"${fullId}\" not found after multiple retries.`);\r\n        }\r\n    }\r\n    \r\n    scrollWithRetry(elementId: string, retries: number = 30, delay: number = 3000) {\r\n        if (!elementId) return;\r\n    \r\n        const target = document.getElementById(elementId);\r\n    \r\n        if (target) {\r\n            this.scrollToSection(elementId);\r\n        } else if (retries > 0) {\r\n            console.warn(`⏳ Waiting for element \"${elementId}\" to appear. Retries left: ${retries}`);\r\n            setTimeout(() => this.scrollWithRetry(elementId, retries - 1, delay), delay);\r\n        }\r\n    }\r\n\r\n    scrollToReactSection(blockName: string) {\r\n        if (!blockName) return;\r\n        const targetElement = document.querySelector(\".\" + blockName);;\r\n        if (targetElement) {\r\n            targetElement.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'start' });\r\n        }\r\n    }\r\n\r\n\r\n    scrollToView(customNode: any, isReact: boolean = false) {\r\n        let finalScrollTarget: string | null = null;\r\n        let mainParentName = customNode.borrower_id || \"\";\r\n        let borrowerIndex: number | null = null;\r\n        const isFieldLevel = this.isFieldLavel(customNode);\r\n        const hasBorrowerId = !!customNode.borrower_id;\r\n        if(isReact){\r\n            // let customNode: ITreeNode = JSON.parse(JSON.stringify(node));\r\n            // if (!hasBorrowerId && isFieldLevel) {\r\n            //     // const mappingEntry = this.responseResult.find(entry => entry.response_value === node.api_key) ? this.responseResult.find(entry => entry.response_value === node.api_key):this.responseResult.find(entry => entry.response_value === node.blockName);\r\n            //     // const hasUniqueId = mappingEntry && !!mappingEntry.unique_id;\r\n            //     // customNode.blockName = hasUniqueId ? mappingEntry.unique_id : null;\r\n            //     let customEvent = {\r\n            //         type : \"error_actions\",\r\n            //         data : customNode\r\n            //     }\r\n            //     // this.scrollToReactSection(customNode.blockName);\r\n            //     this.sharedEventsService.emitToreactEmitter.emit(customEvent);\r\n            // } else if (hasBorrowerId && isFieldLevel) {\r\n            //     const mappingEntry = this.responseResult.find(entry => entry.response_value === node.api_key) ? this.responseResult.find(entry => entry.response_value === node.api_key) : this.responseResult.find(entry => entry.response_value === node.blockName);\r\n            //     const hasUniqueId = mappingEntry && !!mappingEntry.unique_id;\r\n            //     customNode.blockName = hasUniqueId ? `${mappingEntry.unique_id}-${mainParentName}` : null;\r\n            //     let customEvent = {\r\n            //         type : \"error_actions\",\r\n            //         data : customNode\r\n            //     }\r\n            //     this.scrollToReactSection(customNode.blockName);\r\n            //     this.sharedEventsService.emitToreactEmitter.emit(customEvent);\r\n            // } else {\r\n            //     if (mainParentName) {\r\n            //         if (this.keyValueMap.has(customNode.blockName)) {\r\n            //             let mappedValue = this.keyValueMap.get(customNode.blockName);\r\n            //             finalScrollTarget = `${mappedValue}-${mainParentName}`;\r\n            //             if (finalScrollTarget) {\r\n            //                 customNode.blockName = mappedValue;\r\n            //                 let customEvent = {\r\n            //                     type : \"error_actions\",\r\n            //                     data : customNode\r\n            //                 }\r\n            //                 this.sharedEventsService.emitToreactEmitter.emit(customEvent);\r\n            //                 this.scrollToReactSection(finalScrollTarget);\r\n            //                 return;\r\n            //             }\r\n            //         }\r\n            //     }\r\n            //     if (!finalScrollTarget) {\r\n            //         if (customNode.blockName && this.keyValueMap.has(customNode.blockName)) {\r\n            //             finalScrollTarget = this.keyValueMap.get(customNode.blockName);\r\n            //             if (finalScrollTarget) {\r\n            //                 customNode.blockName = finalScrollTarget;\r\n            //                 let customEvent = {\r\n            //                     type : \"error_actions\",\r\n            //                     data : customNode\r\n            //                 }\r\n            //                 this.sharedEventsService.emitToreactEmitter.emit(customEvent);\r\n            //                 this.scrollToReactSection(finalScrollTarget);\r\n            //                 return;\r\n            //             }\r\n            //         }\r\n            //     }\r\n            // }\r\n        } else{\r\n            if (!hasBorrowerId && isFieldLevel) {\r\n                const mappingEntry = this.responseResult.find(entry => entry.response_value === customNode.api_key);\r\n                const hasParentId = mappingEntry && !!mappingEntry.parent_id;\r\n        \r\n                if (hasParentId) {\r\n                    this.wfeStepLoaderService.loadBlockByName(mappingEntry.parent_id).subscribe((parentBlockData: any) => {\r\n                        const targetField = parentBlockData?.block_fields?.find((field: any) => field.unique_id === mappingEntry.unique_id);\r\n            \r\n                        if (targetField) {\r\n                            const defaultParam = targetField.additional_parameters?.find(param => param.parameter_type === 'default_value');\r\n                            const defaultValue = defaultParam?.value;\r\n            \r\n                            if (defaultValue) {\r\n                                borrowerIndex = this.borrowerIdMap.get(mainParentName);\r\n                                this.accordionService.openMultipleSectionsWithParent(mappingEntry.unique_id, mappingEntry.parent_id,defaultValue, borrowerIndex);\r\n\r\n                                this.loadBlockAndScrollToField(defaultValue, customNode.api_key, true, borrowerIndex);\r\n                            }\r\n                        } \r\n                    });\r\n            \r\n                    return;\r\n                } \r\n                else {\r\n                    const sectionsToOpen = [mappingEntry.unique_id]; // Dynamically use parent_id\r\n                    this.accordionService.openMultipleSections(sectionsToOpen);\r\n                    this.loadBlockAndScrollToField(mappingEntry.unique_id, customNode.api_key,false,0);\r\n\r\n                    return;\r\n                }\r\n        }else if (hasBorrowerId && isFieldLevel) {\r\n                const mappingEntry = this.responseResult.find(entry => entry.response_value === customNode.api_key);\r\n                const hasParentId = mappingEntry && !!mappingEntry.parent_id;\r\n        \r\n                if (hasParentId) {\r\n                    this.wfeStepLoaderService.loadBlockByName(mappingEntry.parent_id).subscribe((parentBlockData: any) => {\r\n                        const targetField = parentBlockData?.block_fields?.find((field: any) => field.unique_id === mappingEntry.unique_id);\r\n            \r\n                        if (targetField) {\r\n                            const defaultParam = targetField.additional_parameters?.find(param => param.parameter_type === 'default_value');\r\n                            const defaultValue = defaultParam?.value;\r\n            \r\n                            if (defaultValue) {\r\n                                borrowerIndex = this.borrowerIdMap.get(mainParentName);\r\n                                this.accordionService.openMultipleSectionsWithParent(mappingEntry.unique_id, mappingEntry.parent_id,defaultValue, borrowerIndex);\r\n\r\n                                this.loadBlockAndScrollToField(defaultValue, customNode.api_key, true, borrowerIndex);\r\n                            }\r\n                        }\r\n                    });\r\n            \r\n                    return;\r\n                } \r\n            }else{\r\n                if (mainParentName && this.borrowerIdMap.has(mainParentName)) {\r\n                    borrowerIndex = this.borrowerIdMap.get(mainParentName);\r\n                    if (this.keyValueMap.has(customNode.blockName)) {\r\n                        let mappedValue = this.keyValueMap.get(customNode.blockName);\r\n                        finalScrollTarget = `${mappedValue}-${borrowerIndex}`;\r\n                    }\r\n\r\n                    if (finalScrollTarget) {\r\n                        this.scrollToSection(finalScrollTarget);\r\n                        return;\r\n                    }\r\n                }\r\n                if (!finalScrollTarget) {\r\n                    if (customNode.blockName && this.keyValueMap.has(customNode.blockName)) {\r\n                        finalScrollTarget = this.keyValueMap.get(customNode.blockName);\r\n\r\n                        if (finalScrollTarget) {\r\n                            this.scrollToSection(finalScrollTarget);\r\n                            return;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    loadBlockAndScrollToField(uniqueId: string, apiKey: string, isFieldLevelWithParent: boolean, borrowerIndex: number) {\r\n        this.wfeStepLoaderService.loadBlockByName(uniqueId).subscribe((blockData) => {\r\n            let loadedBlock: any = blockData;\r\n            const targetField = loadedBlock?.block_fields?.find(field => field.api_key === apiKey);\r\n    \r\n            if (targetField) {\r\n                const scrollTargetId = targetField.unique_id;\r\n                if (isFieldLevelWithParent) {\r\n                    this.scrollWithRetryParent(scrollTargetId,borrowerIndex);\r\n                } else {    \r\n                    \r\n                this.scrollWithRetry(scrollTargetId);\r\n                }\r\n            }\r\n        }, (error) => {\r\n        });\r\n    }\r\n    \r\n    \r\n    \r\n    getMainParentName(node: ITreeNode): string | null {\r\n        let parentNode = node;\r\n        while (parentNode && parentNode.type !== 'main_parent') {\r\n            parentNode = this.findParentNode(parentNode);\r\n        }\r\n        return parentNode ? parentNode.name : null;\r\n    }\r\n\r\n    findParentNode(node: ITreeNode): ITreeNode | null {\r\n        return this.treeControl.dataNodes.find(parent => \r\n            parent.children && parent.children.includes(node)\r\n        ) || null;\r\n    }\r\n    \r\n    \r\n\r\n    expandAllNodes() {\r\n        this.treeControl.dataNodes?.forEach(node => {\r\n            this.treeControl.expand(node);\r\n        });\r\n    }\r\n\r\n    collapseAllNodes() {\r\n        this.treeControl.dataNodes?.forEach(node => {\r\n            this.treeControl.collapse(node);\r\n        });\r\n    }\r\n\r\n    \r\n    @HostListener('keydown', ['$event'])\r\n    onKeydown(event: KeyboardEvent) {\r\n        if (!this.treeControl) return;\r\n\r\n        const focusedNode = document.activeElement?.closest('.mat-tree-node');\r\n        if (!focusedNode) return;\r\n\r\n        // Find the corresponding node from the tree data\r\n        const node = this.treeControl.dataNodes.find(n => focusedNode.textContent?.includes(n.name));\r\n        if (!node) return;\r\n\r\n        if (event.key === 'ArrowRight') {\r\n            this.expandAllChildren(node);\r\n        } else if (event.key === 'ArrowLeft') {\r\n            this.collapseAllChildren(node);\r\n        }\r\n    }\r\n\r\n    onNodeClick(node: ITreeNode, event?: Event) {\r\n        if (!this.hasChild(0, node)) return;\r\n        if (event) {\r\n            event.stopPropagation();\r\n        }\r\n        if (this.treeControl.isExpanded(node)) {\r\n            this.collapseAllChildren(node);\r\n        } else {\r\n            this.expandAllChildren(node);\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n    \r\n    \r\n    \r\n    collapseAllChildren(node: ITreeNode) {\r\n        this.treeControl.collapse(node); // Collapse the parent first\r\n    \r\n        if (node.children) {\r\n            node.children.forEach(child => {\r\n                this.treeControl.collapse(child); // Collapse each child\r\n                this.collapseAllChildren(child); // Recursively collapse all children\r\n            });\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n    \r\n    expandAllChildren(node: ITreeNode) {\r\n        this.treeControl.expand(node);\r\n    \r\n        if (node.children) {\r\n            node.children.forEach(child => {\r\n                this.treeControl.expand(child); // Expand each child\r\n                this.expandAllChildren(child); // Recursively expand all children\r\n            });\r\n        }\r\n        this.cdRef.detectChanges();\r\n    }\r\n    \r\n\r\n    scrollToSections(item, i: number) {\r\n        if (item.attchedmenuClass) {\r\n            const menuElement = document.querySelector(\".\" + item.attchedmenuClass);\r\n            if (menuElement) {\r\n                const errorField = this.renderer.selectRootElement(\".\" + item.attchedmenuClass, true);\r\n                if (errorField) {\r\n                    errorField.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'start' });\r\n                }\r\n            }\r\n            else{\r\n            let attachtoStepParts = item.attachtoStep.split('#');\r\n            if (attachtoStepParts.length > 1) {\r\n                let part = attachtoStepParts[1];\r\n                  if(part && part.indexOf('{{i}}') !== -1) {\r\n                    part = part.replace('{{i}}',i-1);\r\n                    const errorField = this.renderer.selectRootElement(\".\" + part, true);\r\n                    if (errorField) {\r\n                        errorField.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'start' });\r\n                    }\r\n            }\r\n            }\r\n            }\r\n        }\r\n    }\r\n\r\n    scrollToSection(blockName: string) {\r\n        if (!blockName) return;\r\n        const targetElement = document.getElementById(blockName) as HTMLElement;\r\n        if (targetElement) { \r\n            targetElement.scrollIntoView({ behavior: 'smooth', block: 'start', inline: 'start' });\r\n        }\r\n    }\r\n\r\n    ensureElementVisible(element: HTMLElement) {\r\n        const rect = element.getBoundingClientRect();\r\n        const isVisible = rect.top >= 0 && rect.bottom <= window.innerHeight;\r\n    \r\n        if (!isVisible) {\r\n            setTimeout(() => this.ensureElementVisible(element), 200);\r\n        } else {\r\n            if (element instanceof HTMLInputElement && !element.disabled) {\r\n                element.focus();\r\n            }\r\n            this.selectView(element);\r\n        }\r\n    }\r\n\r\n    selectView(element: HTMLElement) {\r\n        if (element instanceof HTMLInputElement && !element.disabled) {\r\n            element.focus();\r\n        }\r\n        element.classList.add(\"highlighted\");\r\n        this.cdRef.detectChanges();\r\n        setTimeout(() => {\r\n            element.classList.remove(\"highlighted\");\r\n            this.cdRef.detectChanges();\r\n        }, 2000);\r\n    }\r\n    \r\n    \r\n    public getApiKeyValuePair(apiDatas) {\r\n        let mainObject = {};\r\n    \r\n        if (apiDatas && apiDatas.value) {\r\n            Object.keys(apiDatas.value).forEach(key => {\r\n                if (key === \"handler_name\") return;\r\n    \r\n                // Split the key by ##\r\n                const keyParts = key.split('##');\r\n                if (keyParts.length < 2) return;\r\n    \r\n                // Extract root object and nested path\r\n                const rootKey = keyParts[0];\r\n                let nestedPath = keyParts[1];\r\n                nestedPath = nestedPath.replace(/^response\\./, '');\r\n                const pathParts = nestedPath.split('.');\r\n    \r\n                let currentObj = mainObject;\r\n                for (let i = 0; i < pathParts.length; i++) {\r\n                    let part = pathParts[i];\r\n                    const arrayMatch = part.match(/(\\w+)\\[(\\d+)\\]/);\r\n                    if (arrayMatch) {\r\n                        const arrayKey = arrayMatch[1];\r\n                        const arrayIndex = parseInt(arrayMatch[2]);\r\n                        if (!currentObj[arrayKey]) {\r\n                            currentObj[arrayKey] = [];\r\n                        }\r\n                        if (!currentObj[arrayKey][arrayIndex]) {\r\n                            currentObj[arrayKey][arrayIndex] = {};\r\n                        }\r\n                        currentObj = currentObj[arrayKey][arrayIndex];\r\n                    } else {\r\n                        if (!currentObj[part]) {\r\n                            currentObj[part] = (i === pathParts.length - 1) ? apiDatas.value[key] : {};\r\n                        }\r\n                        currentObj = currentObj[part];\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    \r\n        return mainObject;\r\n    }\r\n    \r\n    \r\n    getFieldUniqueIdByApiKey(blockName: string, apiKey: string): void {\r\n        this.wfeStepLoaderService.loadBlockByName(blockName).subscribe((blockData) => {\r\n            //console.log(\"Loaded Block Data: \", blockData);\r\n            let loadedBlockData: any = blockData;\r\n            // Search for the field with the matching api_key\r\n            const field = loadedBlockData?.block_fields?.find((field: any) => field.api_key === apiKey);\r\n        });\r\n    }\r\n    \r\n\r\n}\r\n"],"names":["i2.UserDataHandlerService","i3.SharedEventsServiceService","i4.CEEInternalEmitterService","i5.AppDataService","i6.ApiDataService","i7.WfeStepLoaderService","i8.AccordionService","i9","i10","i11","i12.CeeApiService","i13","i14.WFEEventListHandler","i15","i16","i18"],"mappings":"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"}