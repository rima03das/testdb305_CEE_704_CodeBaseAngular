{"version":3,"file":"ng-cee-core-rb-renderer.component-Dt38iAoc.mjs","sources":["../../../../../Angular-17/ESF-Angular-WFE-Library/projects/ng-cee-core/src/lib/components/rb-renderer/rb-util.ts","../../../../../Angular-17/ESF-Angular-WFE-Library/projects/ng-cee-core/src/lib/components/rb-renderer/rb-current-index-util.ts","../../../../../Angular-17/ESF-Angular-WFE-Library/projects/ng-cee-core/src/lib/components/rb-renderer/rb-renderer.component.html","../../../../../Angular-17/ESF-Angular-WFE-Library/projects/ng-cee-core/src/lib/components/rb-renderer/rb-renderer.component.ts"],"sourcesContent":["import { defer } from 'rxjs';\r\nimport { Injectable } from '@angular/core';\r\nimport { RBRendererComponent } from './rb-renderer.component';\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class RBUtil {\r\n\r\n    comp: RBRendererComponent;\r\n\r\n    componentList = {};\r\n    componentMap = {\r\n        label: defer(() => {\r\n            if (this.componentList['label']) {\r\n                return this.componentList['label'];\r\n            } else {\r\n                const c = import('../../field-components/cee-label/cee-label.component').then(m => m.CeeLabelComponent);\r\n                this.componentList['label'] = c;\r\n                return c;\r\n            }\r\n        }),\r\n        Textfield: defer(() => {\r\n            if (this.componentList['Textfield']) {\r\n                return this.componentList['Textfield'];\r\n            } else {\r\n                const c = import('../../field-components/cee-textfield/cee-textfield.component').then(m => m.CeeTextfieldComponent);\r\n                this.componentList['Textfield'] = c;\r\n                return c;\r\n            }\r\n        }),\r\n        // 'Autocomplete Textfield': defer(() => {\r\n        //     if (this.componentList['Autocomplete Textfield']) {\r\n        //         return this.componentList['Autocomplete Textfield'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-auto-complete/cee-auto-complete.component').then(m => m.CeeAutoCompleteComponent);\r\n        //         this.componentList['Autocomplete Textfield'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // Textarea: defer(() => {\r\n        //     if (this.componentList['Textarea']) {\r\n        //         return this.componentList['Textarea'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-textarea/cee-textarea.component').then(m => m.CeeTextareaComponent);\r\n        //         this.componentList['Textarea'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // Date: defer(() => {\r\n        //     if (this.componentList['Date']) {\r\n        //         return this.componentList['Date'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-date/cee-date.component').then(m => m.CeeDateComponent);\r\n        //         this.componentList['Date'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // radio: defer(() => {\r\n        //     if (this.componentList['radio']) {\r\n        //         return this.componentList['radio'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-radio/cee-radio.component').then(m => m.CeeRadioComponent);\r\n        //         this.componentList['radio'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        Menu: defer(() => {\r\n            if (this.componentList['Menu']) {\r\n                return this.componentList['Menu'];\r\n            } else {\r\n                const c = import('../../field-components/cee-menu/cee-menu.component').then(m => m.CeeMenuComponent);\r\n                this.componentList['Menu'] = c;\r\n                return c;\r\n            }\r\n        }),\r\n        Checkbox: defer(() => {\r\n            if (this.componentList['Checkbox']) {\r\n                return this.componentList['Checkbox'];\r\n            } else {\r\n                const c = import('../../field-components/cee-checkbox/cee-checkbox.component').then(m => m.CeeCheckboxComponent);\r\n                this.componentList['Checkbox'] = c;\r\n                return c;\r\n            }\r\n        }),\r\n        // Timepicker: defer(() => {\r\n        //     if (this.componentList['Timepicker']) {\r\n        //         return this.componentList['Timepicker'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-time-picker/cee-time-picker.component').then(m => m.CeeTimePickerComponent);\r\n        //         this.componentList['Timepicker'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // PhoneNumber: defer(() => {\r\n        //     if (this.componentList['PhoneNumber']) {\r\n        //         return this.componentList['PhoneNumber'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-phone-number/cee-phone-number.component').then(m => m.CeePhoneNumberComponent);\r\n        //         this.componentList['PhoneNumber'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // Picker: defer(() => {\r\n        //     if (this.componentList['Picker']) {\r\n        //         return this.componentList['Picker'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-picker/cee-picker.component').then(m => m.CeePickerComponent);\r\n        //         this.componentList['Picker'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        Button: defer(() => {\r\n            if (this.componentList['Button']) {\r\n                return this.componentList['Button'];\r\n            } else {\r\n                const c = import('../../field-components/cee-button/cee-button.component').then(m => m.CeeButtonComponent);\r\n                this.componentList['Button'] = c;\r\n                return c;\r\n            }\r\n        }),\r\n        // Number: defer(() => {\r\n        //     if (this.componentList['Number']) {\r\n        //         return this.componentList['Number'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-number/cee-number.component').then(m => m.CeeNumberComponent);\r\n        //         this.componentList['Number'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        Attachments: defer(() => {\r\n            if (this.componentList['Attachments']) {\r\n                return this.componentList['Attachments'];\r\n            } else {\r\n                const c = import('../../field-components/cee-attachments/cee-attachments.component').then(m => m.CeeAttachmentsComponent);\r\n                this.componentList['Attachments'] = c;\r\n                return c;\r\n            }\r\n        }),\r\n        // Table: defer(() => {\r\n        //     if (this.componentList['Table']) {\r\n        //         return this.componentList['Table'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-table/cee-table.component').then(m => m.CeeTableComponent);\r\n        //         this.componentList['Table'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // 'Table-V2': defer(() => {\r\n        //     if (this.componentList['Table-V2']) {\r\n        //         return this.componentList['Table-V2'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-table-v2/cee-table-v2.component').then(m => m.CeeTableV2Component);\r\n        //         this.componentList['Table-V2'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // List: defer(() => {\r\n        //     if (this.componentList['List']) {\r\n        //         return this.componentList['List'];\r\n        //     } else {\r\n        //         const c = import('../list-renderer/list-renderer.component').then(m => m.ListRendererComponent);\r\n        //         this.componentList['List'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // Switch: defer(() => {\r\n        //     if (this.componentList['Switch']) {\r\n        //         return this.componentList['Switch'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-switch/cee-switch.component').then(m => m.CeeSwitchComponent);\r\n        //         this.componentList['Switch'] = c;\r\n        //         return c;\r\n        //     }\r\n        // }),\r\n        // Editor: defer(() => {\r\n        //     if (this.componentList['Editor']) {\r\n        //         return this.componentList['Editor'];\r\n        //     } else {\r\n        //         const c = import('../../field-components/cee-editor/cee-editor.component').then(m => m.CeeEditorComponent);\r\n        //         this.componentList['Editor'] = c;\r\n        //         return c;\r\n        //     }\r\n        // })\r\n    };\r\n\r\n    constructor(comp: RBRendererComponent) {\r\n        this.comp = comp;\r\n    }\r\n\r\n    getComponentType(fieldType: string) {\r\n        let comp = this.componentMap[fieldType];\r\n        if(comp) {\r\n            return comp;\r\n        }\r\n        console.log(`fieldType ${fieldType} not found, returning label component`);\r\n        return this.componentMap['label'];\r\n    }\r\n\r\n    getComponentInputs(field: any, i: number, activePosition: any) {\r\n        const listComps = ['List', 'Table', 'Table-V2'];\r\n        const rowData = this.comp.repeatebleFieldsRows[i]?.[field.unique_id];\r\n        var inputs = {\r\n            stepId: this.comp.stepId,\r\n            rootData: this.comp.rootData,\r\n            rowData: rowData,\r\n        };\r\n\r\n        if(listComps.includes(field.field_type)) {\r\n            inputs['sectionData'] = field;\r\n            inputs['type'] = field.field_type;\r\n        }\r\n        else {\r\n            inputs['fieldData'] = field;\r\n            inputs['keepState'] = true;\r\n            inputs['mandatoryCondition'] = this.comp.mandatoryCondition;\r\n            inputs['editableCondition'] = this.comp.editableCondition;\r\n            inputs['visibleCondition'] = this.comp.visibleCondition;\r\n        }\r\n        \r\n\r\n        if(field.field_type === 'label') {\r\n            inputs['activePosition'] = activePosition;\r\n        }\r\n        else if(field.field_type === 'Button') {\r\n            inputs['primaryKeyIndex'] = {\r\n                name: field.unique_id, \r\n                value: rowData?.['value'], \r\n                type: 'repeatable', \r\n                cellData: rowData\r\n\r\n            };\r\n        }\r\n        return inputs;\r\n    }\r\n    \r\n    getFieldClasses(field: any, position: any): string {\r\n        const baseClass = `field-${position}`;\r\n        const bootstrapClass = field.field_style \r\n            ? this.comp.commonUtil.bootstrapColClass(\r\n                field.field_style.bootstrap_class_name, \r\n                this.comp.is_bootstrap, \r\n                '', \r\n                this.comp.conditionalUtil.evaluteBootstrapCondition(field)\r\n            )\r\n            : '';\r\n        \r\n        return `${baseClass} ${bootstrapClass}`.trim();\r\n    }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { RBRendererComponent } from './rb-renderer.component';\r\n\r\n@Injectable({\r\n    providedIn: 'root',\r\n})\r\nexport class RBCurrentIndexUtil {\r\n    \r\n    comp: RBRendererComponent;\r\n    \r\n    constructor(comp: RBRendererComponent) {\r\n        this.comp = comp;\r\n    }\r\n\r\n    suscribeRBCurrentIndex() {\r\n        this.comp.variableObj['currentRepeatableBlockEmitter_' + this.comp.fieldData.unique_id] =\r\n        this.comp.sharedEventsService.rbCurrentIndex.subscribe((res) => {\r\n            // Get block info\r\n            const blockInfo = this.getBlockInfo();\r\n            // Check if the linkedBlockId matches the current blockId\r\n            if (res.linkedBlockId == this.comp.blockId) {\r\n                // Check if the current block is a child block\r\n                if (!blockInfo.isChildBlock) {\r\n                    const fields = this.getFieldsForPosition(res.position);\r\n                    if (fields.length > 0) {\r\n                        this.setCurrBlockAppData(fields, res);\r\n                    }\r\n                } else {\r\n                    // If it's a child block, check if the parentPosition matches\r\n                    if (res.parentPosition === blockInfo.parentPosition) {\r\n                        // Get fields by position\r\n                        const fields = this.getFieldsForPosition(res.position);\r\n                        if (fields.length > 0) {\r\n                            this.setCurrBlockAppData(fields, res);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    // Get active block count and data\r\n    getBlockInfo = () => {\r\n        return {\r\n            totalBlocks: this.comp.maxBlocksCount,\r\n            activeBlocks: this.comp.activeBlocksCount,\r\n            currentRows: this.comp.repeatebleFieldsRows.length,\r\n            blockId: this.comp.blockId,\r\n            isChildBlock: this.comp.isChildBlock(),\r\n            parentPosition: this.comp.parentPosition\r\n        };\r\n    };\r\n\r\n    // Get fields for a specific row/position\r\n    getFieldsForPosition(position: number) {\r\n        if (!this.comp.repeatebleFieldsRows[position]) {\r\n            return [];\r\n        }\r\n        return Object.values(this.comp .repeatebleFieldsRows[position]).map((field: any) => field.html_id);\r\n    }\r\n\r\n     // Set the current block data in the Akita store\r\n    async setCurrBlockAppData(ids: any[], otherInfo) {\r\n        const apiData: any = {\r\n            fields: {},\r\n            isChildBlock: otherInfo.isChildBlock,\r\n            linkedBlockId: otherInfo.linkedBlockId,\r\n            parentPosition: otherInfo.parentPosition,\r\n            position: otherInfo.position,\r\n            repeatedBlockFieldId: otherInfo.repeatedBlockFieldId,\r\n            stepId: otherInfo.stepId\r\n        };\r\n        const entitiesByRB: any = await this.comp.appDataService.getFieldIdMapFieldValueByRepeatedBlockFieldId(otherInfo.repeatedBlockFieldId)\r\n        for (const id of ids) {\r\n            const actualId = await id.split(\"$\")[1];\r\n            apiData['fields'][actualId] = await entitiesByRB[id];\r\n        }\r\n        // console.log(\"apiData ::::\", apiData);\r\n        // Set the API data in the Akita store\r\n        this.comp.apiDataService.setApiData({\r\n            id: 'RepeatableBlock/CurrentIndex',\r\n            apiUrl: '',\r\n            apiKey: 'RepeatableBlock/CurrentIndex',\r\n            value: Object.assign({}, apiData),\r\n        });\r\n    }\r\n}\r\n","<ng-container *ngIf=\"isVisible\">\r\n    <div class=\"reapeatable-loader {{reapeatableLoading ? 'reapeatable-pending':'reapeatable-loaded'}}\"></div>\r\n    <ng-container *ngFor=\"let pos of counter; let i = index; trackBy: trackByIdCounter;\">\r\n        <section *ngIf=\"pos.active && blockRenderedData && repeatebleFieldsRows[i]\" id=\"{{ blockId }}\" \r\n            [attr.aria-label]=\"additionalParameter['Aria-Label'] ? additionalParameter['Aria-Label'] : undefined\" \r\n            [attr.role]=\"additionalParameter['Aria-Role']\" \r\n            class=\"cee-block sectionRb-{{i}} {{blockId}}-sidebar-item-{{i}}  {{parentPosition ? (blockId+'-p-'+parentPosition+'-c-'+i) : (blockId+'-c-'+i)}}  template-{{templateId}} block-{{ blockId }} {{is_bootstrap ? 'row': ''}} {{reapeatableLoading ? 'reapeatable-pending':'reapeatable-loaded'}} {{sectionCustomClass[i] ? sectionCustomClass[i]: ''}} \">            \r\n            <ng-container *ngFor=\"let field of blockRenderedData.block_fields; index as position; trackBy: trackByIdBlock;\">\r\n                <ng-template *ngTemplateOutlet=\"cellData; context:{field:field,position:position,i:i, activePosition: pos}\">\r\n                </ng-template>\r\n            </ng-container>\r\n        </section>\r\n    </ng-container>\r\n</ng-container>\r\n\r\n<!-- cellData template -->\r\n<ng-template #cellData let-field=\"field\" let-position=\"position\" let-i=\"i\" let-activePosition=\"activePosition\">\r\n    <ng-container *ngIf=\"field.field_type === 'RBLite' || field.field_type === 'Repeatable Block'\">\r\n        <rb-renderer [class]=\"rbUtil.getFieldClasses(field, position)\"\r\n            [stepId]=\"stepId\" [rootData]=\"rootData\" [rowData]=\"repeatebleFieldsRows[i]?.[field.unique_id]\" \r\n            [parentBlock]=\"fieldData.unique_id\" [parentPosition]=\"i\" [fieldData]=\"field\" [templateId]=\"templateId\"             \r\n            [mandatoryCondition]=\"mandatoryCondition\" [editableCondition]=\"editableCondition\" [visibleCondition]=\"visibleCondition\">\r\n        </rb-renderer>\r\n    </ng-container>\r\n    <ng-container *ngIf=\"field.field_type !== 'RBLite' && field.field_type !== 'Repeatable Block'\">\r\n        <div [class]=\"rbUtil.getFieldClasses(field, position)\">\r\n            <ng-container *ngComponentOutlet=\"rbUtil.getComponentType(field.field_type) | async; inputs: rbUtil.getComponentInputs(field, i, activePosition)\"></ng-container>\r\n        </div>\r\n    </ng-container>\r\n</ng-template>\r\n \r\n ","import { Component, Renderer2, OnInit, Input, ChangeDetectorRef, OnDestroy, SimpleChanges, OnChanges, ViewRef } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { SharedEventsServiceService } from '../../services/shared-events-service.service';\r\nimport { AppDataService } from '../../models/app-data/app-data.service';\r\nimport { FlatUnflat } from '../../utils/flat-unflat-json';\r\nimport { ConditionalUtil } from '../../utils/wfe-conditional-util';\r\nimport { ApiDataService } from '../../models/api-data/api-data.service';\r\nimport { AppData } from '../../models/app-data/app-data.model';\r\nimport { WfeStepLoaderService } from '../../services/wfe-step-loader.service';\r\nimport { CeeApiService } from '../../services/cee-api-service.service';\r\nimport { MatSnackBar as MatSnackBar } from '@angular/material/snack-bar';\r\nimport { Router } from '@angular/router';\r\nimport { UserDataHandlerService } from '../../services/user-data-handler.service';\r\nimport { CommonUtil } from '../../utils/common-util';\r\nimport { APIKeyUtil } from '../../utils/api-key-util';\r\nimport { CEEInternalEmitterService } from '../../services/internal-cee-emitter-service.service';\r\nimport { SetAPICallbackData } from '../../utils/set-api-callback-data-util';\r\nimport { CommonModule, NgClass, NgSwitch } from '@angular/common';\r\nimport { MatFormFieldModule } from '@angular/material/form-field';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { DynamicLabelUtil } from '../../utils/dynamic-label-util';\r\nimport { RBUtil } from './rb-util';\r\nimport { RBCurrentIndexUtil } from './rb-current-index-util';\r\n\r\n@Component({\r\n    selector: 'rb-renderer',\r\n    templateUrl: './rb-renderer.component.html',\r\n    styleUrls: ['./rb-renderer.component.scss'],\r\n    standalone: true,\r\n    imports: [NgSwitch, NgClass, MatFormFieldModule, FormsModule, CommonModule]\r\n})\r\nexport class RBRendererComponent implements OnInit, OnDestroy, OnChanges {\r\n    @Input() declare stepId: any;\r\n    @Input() declare fieldData: any;\r\n    @Input() templateId: any;\r\n    @Input() mandatoryCondition: any;\r\n    @Input() editableCondition: any;\r\n    @Input() visibleCondition: any;\r\n    @Input() declare rootData: any;\r\n    @Input() parentPosition: any;\r\n    @Input() rowData: any;\r\n    @Input() parentBlock: any;\r\n\r\n    blockRenderedData: any;\r\n    childArr = [];\r\n    additionalParameter = {};\r\n    counter: any = [{ active: true }];\r\n    childCounter: any = {};\r\n    maxBlocksCount = 0;\r\n    checkedItems: Array<any>;\r\n    type = '';    \r\n    hideActionButton: boolean = true;\r\n\r\n    appData: AppData = {\r\n        id: '',\r\n        stepId: '',\r\n        apiKey: '',\r\n        linkedBlockId: '',\r\n        isRepeatedField: true,\r\n        repeatedBlockFieldId: '',\r\n        requestApiKey: [],\r\n        responseApiKey: [],\r\n        dataFormatSeparator: '',\r\n        mandatory: false,\r\n        editable: false,\r\n        visible: false,\r\n        value: '',\r\n        isValid: true\r\n    };\r\n    variableObj = {}; // variableObject\r\n    responseMap = {};\r\n    isEditable = false;\r\n    buttonEditable = false;\r\n    isVisible = false;\r\n    isMandatory = false;\r\n    blockId = '';\r\n    flatten: FlatUnflat;\r\n    conditionalUtil: ConditionalUtil;    \r\n    isApiResponse = false;\r\n    is_bootstrap: boolean = false;\r\n    commonUtil: CommonUtil;\r\n    apiKeyUtil: APIKeyUtil;\r\n    rbCurrentIndexUtil: RBCurrentIndexUtil;\r\n    rbUtil: RBUtil;\r\n\r\n    lazyInterval: any = [];  //setInterval for lazy loading\r\n    counterTemp: any[] = [];\r\n    presetData: any;\r\n    setApiCallBackDataUtil: SetAPICallbackData;\r\n    repeatebleFieldsRows = [];\r\n    reapeatableLoading: boolean = false;\r\n    sectionCustomClass = {};\r\n    skipLoader = false;\r\n    delimiter = '$';\r\n\r\n    addRowByDefault: any = true;\r\n    enableDeleteLastRow: any = false;\r\n    storeBlockIdIfNull: any;    \r\n\r\n    setDynamicLabelUtil: DynamicLabelUtil;\r\n    dummyBlocks = {};\r\n    resetIndexOnAddOrRemove: boolean = false;\r\n    activeBlocksCount: number = 0;\r\n    disableAddButton: boolean = false;\r\n    focusChildView: boolean = false;\r\n\r\n    constructor(\r\n        public userDataHandlerService: UserDataHandlerService,\r\n        public appDataService: AppDataService,\r\n        public apiDataService: ApiDataService,\r\n        public internalCEEEmitter: CEEInternalEmitterService,\r\n        public sharedEventsService: SharedEventsServiceService,\r\n        public snackBar: MatSnackBar,\r\n        public wfeStepLoaderService: WfeStepLoaderService,\r\n        public router: Router,\r\n        private cdr: ChangeDetectorRef,\r\n        public _ceeApiService?: CeeApiService,        \r\n        private renderer?: Renderer2\r\n    ) {\r\n        this.rbUtil = new RBUtil(this);\r\n        this.flatten = new FlatUnflat(appDataService);\r\n\r\n        this.conditionalUtil = new ConditionalUtil(\r\n            localStorage.getItem('isSingleCondition') === 'true' ? true : false, appDataService, apiDataService);\r\n\r\n        this.commonUtil = new CommonUtil();\r\n        this.apiKeyUtil = new APIKeyUtil();\r\n        if (localStorage.getItem('is_bootstrap') === 'true') {\r\n            this.is_bootstrap = true;\r\n        }\r\n        this.setApiCallBackDataUtil = new SetAPICallbackData(apiDataService);\r\n        this.setDynamicLabelUtil = new DynamicLabelUtil(apiDataService, appDataService);\r\n        this.rbCurrentIndexUtil = new RBCurrentIndexUtil(this);\r\n        \r\n    }\r\n\r\n    ngAfterContentChecked() {\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    ngAfterViewInit() {\r\n        this.cdr.detectChanges();\r\n    }\r\n\r\n    trackByIdBlock(index: number, item: any): string {\r\n        return item.message_code;\r\n    }\r\n\r\n    trackByIdCounter(index: number, item: any): number {\r\n        // console.log(item);\r\n        const lastChar = item.message_code?.slice(-1); \r\n        return lastChar;\r\n    }\r\n\r\n    //Counts Active Parent and Child Blocks and\r\n    countActiveBlocks() {\r\n        this.maxBlocksCount = this.fieldData.repeatable_block_configuration.no_of_allowed_blocks;\r\n        if (this.isChildBlock()) {\r\n            this.activeBlocksCount = this.childCounter[this.parentPosition].reduce((acc, rec) => rec.active ? acc + 1 : acc, 0);\r\n        } else {\r\n            this.activeBlocksCount = this.counter.reduce((acc, rec) => rec.active ? acc + 1 : acc, 0);\r\n        }\r\n        this.disableAddButton = this.activeBlocksCount == Number(this.maxBlocksCount) ? true : false;\r\n    }\r\n\r\n    // initialize app data model\r\n    initAppDataModel() { \r\n        this.appData.id = this.fieldData.unique_id;\r\n        this.appData.mandatory = this.isMandatory;\r\n        this.appData.stepId = this.stepId;\r\n        this.appData.apiKey = '';\r\n        this.appData.responseApiKey = this.apiKeyUtil.getMultipleApiKeys(this.apiKeyUtil.getConcatenatedApiKeys(this.fieldData.response_api_key));\r\n        this.appData.requestApiKey = this.apiKeyUtil.getMultipleApiKeys(this.fieldData.request_api_key);\r\n        this.appData.editable = this.isEditable;\r\n        this.appData.visible = this.isVisible;\r\n        this.appData.value = this.type;        \r\n\r\n        // preset data is rowData coming from parent component\r\n        this.fieldData.html_id = this.presetData?.html_id || this.fieldData.unique_id; \r\n        this.appData.linkedBlockId = this.presetData?.linkedBlockId || this.blockId;\r\n        this.appData.repeatedBlockFieldId = this.presetData?.repeatedBlockFieldId || '';\r\n\r\n        if (typeof (this.presetData) === 'object' && this.presetData !== null) {\r\n            if (this.presetData.unique_id) {\r\n                this.appData.id = this.presetData.unique_id;\r\n            }\r\n            if (this.presetData.mandatory) {\r\n                this.appData.mandatory = this.presetData.mandatory;\r\n            }\r\n            if (this.presetData.editable) {\r\n                this.appData.editable = this.presetData.editable;\r\n            }\r\n            if (this.presetData.visible) {\r\n                this.appData.visible = this.presetData.visible;\r\n            }\r\n        }\r\n    }\r\n\r\n    async ngOnInit () {await this.init();}\r\n    init = async () => {\r\n        this.presetData = this.rowData;\r\n        this.maxBlocksCount = this.fieldData.repeatable_block_configuration.no_of_allowed_blocks;\r\n        this.blockId = this.fieldData.repeatable_block_configuration.linked_block_id;\r\n\r\n        if (this.blockId) {\r\n            // console.log(this.blockId);            \r\n            this.wfeStepLoaderService.loaderService.skipLoading = this.skipLoader;\r\n            let res = await this.wfeStepLoaderService.loadBlockByName(this.blockId).toPromise();\r\n            this.blockRenderedData = this.commonUtil.blockBootstrapProcess(res);  \r\n        }\r\n        else {\r\n            console.error('linked_block_id not found')\r\n            return false;\r\n        }\r\n\r\n        if (this.fieldData.is_display === 1) {\r\n            this.isVisible = true;\r\n        }\r\n        if (this.fieldData.is_editable === 1) {\r\n            this.buttonEditable = true;\r\n        }\r\n\r\n        this.variableObj[\r\n            'emitApiSuccessResponse_' + this.fieldData.unique_id\r\n        ] = this.sharedEventsService.emitApiSuccessResponse.subscribe(res => {\r\n            // console.log(\"-- RBL got apiSuccessResponse:\", this.blockId);\r\n            this.sharedEventsService.stepLoaderEmitter.emit({\"blockId\": this.blockId});\r\n            const response = this.flatten.flattenJSON(res);\r\n            // The data is reset to remove inner doms already rendered.\r\n            // If not done the values from API will not get reflected.\r\n            if (this.checkIfResHasRepeatedData(response)) {\r\n                console.log(\"- YES my blockId and key:\", this.fieldData.unique_id);\r\n                this.rootData['FieldLoadStack']['add'](); // keep spinner till all doms are rendered\r\n                this.responseMap = {};\r\n                this.counter = [];\r\n                this.childCounter = {};\r\n\r\n                this.counterTemp = this.getMaxIndex(response);  // existing line                  \r\n                this.processRowData(this.counterTemp);\r\n                this.conditionCheck(null);\r\n                this.updateSectionCustomClass(this.counterTemp, null);\r\n                                \r\n                this.rootData['FieldLoadStack']['remove'](); // stop spinner as all doms are rendered\r\n                this.lazyLoading();\r\n            }\r\n        });\r\n\r\n        this.rbCurrentIndexUtil.suscribeRBCurrentIndex();\r\n\r\n        // TODO: Set Conditional Value on the Repeatable Block\r\n        this.variableObj['emitOnDataSetOrUpdated_' + this.fieldData.unique_id] = this.sharedEventsService.emitOnDataSetOrUpdated.subscribe(res => {\r\n            // console.log(\"-- RBL got onDataSetOrUpdated:\", this.blockId);\r\n            this.onFieldDataUpdated(res.apiKey, res.value);\r\n        });\r\n\r\n        this.initAppDataModel();\r\n    }\r\n    \r\n    // fetch object from counterTemp and start rendering it one by one and append to \r\n    // counter or childCounter based on parent or child block\r\n    lazyLoading() {\r\n        // stop existing interval and start new interval for lazy loading\r\n        if (this.lazyInterval) {\r\n            clearInterval(this.lazyInterval);\r\n        }\r\n        this.reapeatableLoading = true;\r\n        this.counter = [];\r\n        this.childCounter[this.parentPosition] = [];\r\n        this.lazyInterval = setInterval(() => {\r\n            if (this.isChildBlock()) {\r\n                if (this.childCounter && this.childCounter[this.parentPosition] && this.childCounter[this.parentPosition].length !== this.counterTemp.length) {\r\n                    this.childCounter[this.parentPosition].push(this.counterTemp[this.childCounter[this.parentPosition].length])\r\n                } else {\r\n                    this.reapeatableLoading = false;\r\n                    clearInterval(this.lazyInterval);\r\n                }\r\n            } else {\r\n                if (this.counter.length !== this.counterTemp.length) {\r\n                    this.counter.push(this.counterTemp[this.counter.length])\r\n                } else {\r\n                    this.reapeatableLoading = false;\r\n                    clearInterval(this.lazyInterval);\r\n                }\r\n            }\r\n            if (this.cdr && !(this.cdr as ViewRef).destroyed) {\r\n                this.cdr.detectChanges();\r\n            }\r\n\r\n            // To Enable or Disable \r\n            this.countActiveBlocks();\r\n\r\n            // Emit to Reset ActiveIndex On Adding or Removing RB\r\n            if (this.resetIndexOnAddOrRemove) {\r\n                this.sharedEventsService.emitOnAddOrRemoveRB.emit();\r\n            }\r\n        }, 0);\r\n\r\n    }   \r\n\r\n    getRowDataList(i) {\r\n        const rowDataList = {};\r\n        const uniqueIds = {};\r\n        for (let position = 0; position < this.blockRenderedData?.block_fields.length; position++) {\r\n            const field = this.blockRenderedData.block_fields[position];\r\n            rowDataList[field.unique_id] = this.generateRowData(i, field);\r\n            uniqueIds[field.unique_id] = rowDataList[field.unique_id].unique_id;\r\n        }\r\n        this.processEventList(rowDataList, uniqueIds);\r\n        return rowDataList;\r\n    }\r\n\r\n    private processRowData(c: any) {   \r\n       this.repeatebleFieldsRows = [];\r\n        for (let i = 0; i < c.length; i++) {\r\n            const rowDataList = this.getRowDataList(i);\r\n            this.repeatebleFieldsRows.push(rowDataList);\r\n        }\r\n            \r\n        // console.log(\"repeatebleFieldsRows:------->\", this.repeatebleFieldsRows);\r\n        this.sharedEventsService.stepLoaderEmitter.emit({\"blockId\": this.blockId});\r\n    }\r\n\r\n    generateRowData(arrayPos: any, fieldTemp: any, type=\"\") {\r\n        const value = '[' + arrayPos + ']';\r\n        let apiKey;\r\n        let id = this.stepId + '$' + fieldTemp.unique_id + '$' + arrayPos;\r\n\r\n        if (this.isChildBlock()) {\r\n            id = this.stepId + '$' + fieldTemp.unique_id + '$' + this.parentPosition + '$' + arrayPos;\r\n            apiKey = fieldTemp.api_key ? fieldTemp?.api_key.replace('[**]', this.parentPosition) : '';\r\n        }\r\n        apiKey = fieldTemp?.api_key ? fieldTemp?.api_key.replace('[*]', value) : '';\r\n        \r\n        let updatedResponseApiKey = this.returnRequestOrResponseApiKeys('response', fieldTemp?.response_api_key, value, this.parentPosition);\r\n\r\n        const formattedVal: any = {\r\n            api_key: '',\r\n            unique_id: id,\r\n            html_id:  id,\r\n            response_api_key: updatedResponseApiKey,\r\n            request_api_key: this.returnRequestOrResponseApiKeys('request', fieldTemp?.request_api_key, value, this.parentPosition),\r\n            linkedBlockId: this.blockId,\r\n            repeatedBlockFieldId: this.fieldData.unique_id,\r\n            isApiResponse: this.isApiResponse,\r\n            value: this.returnFieldDataForLabel(fieldTemp, updatedResponseApiKey, id, value),\r\n            position: arrayPos,\r\n            parentPosition: this.parentPosition,\r\n            parentBlockId: this.parentBlock,\r\n            event_list: fieldTemp?.event_list ? JSON.parse(JSON.stringify(fieldTemp?.event_list)) : [],\r\n            // resIsDiffHandler: fieldTemp?.response_api_key && this.commonUtil.getHandlerName(this.fieldData?.response_api_key)\r\n                // !== this.commonUtil.getHandlerName(fieldTemp?.response_api_key) ? true : false\r\n        };\r\n        if(type != \"superBlocks\"){\r\n            // formattedVal.mandatory = fieldTemp?.is_mandatory === 1 || fieldTemp?.is_mandatory === 2;\r\n            formattedVal.mandatory = fieldTemp?.is_mandatory === 1; // By defalt mandatory should be false for conditional mandatory fields \r\n            formattedVal.editable = fieldTemp?.is_editable === 1 || fieldTemp?.is_editable === 2;\r\n            formattedVal.visible = fieldTemp?.is_display === 1 || fieldTemp?.is_display === 2;\r\n        }\r\n\r\n        if (this.presetData && this.presetData.value && Array.isArray(this.presetData.value)) {\r\n            formattedVal.value = this.presetData.value[arrayPos] &&\r\n                this.presetData.value[arrayPos][fieldTemp.response_api_key] ?\r\n                this.presetData.value[arrayPos][fieldTemp.response_api_key] : formattedVal.value;\r\n\r\n            let currentValueNew = this.appDataService.getFieldDataByFieldId(formattedVal.unique_id);\r\n            if (currentValueNew && currentValueNew != undefined && currentValueNew != null && currentValueNew != '') {\r\n                formattedVal.value = currentValueNew ? currentValueNew : formattedVal.value;\r\n            }\r\n        } else {\r\n            let currentValueNew = this.appDataService.getFieldDataByFieldId(formattedVal.unique_id);\r\n            if (currentValueNew && currentValueNew != undefined && currentValueNew != null && currentValueNew != '') {\r\n                formattedVal.value = currentValueNew ? currentValueNew : formattedVal.value;\r\n            }\r\n        }\r\n\r\n\r\n        const eaoValue = fieldTemp?.additional_parameters ? fieldTemp?.additional_parameters.find(pv => pv.parameter_type === 'externalApiOptionValue') : null;\r\n        if (eaoValue) {\r\n            formattedVal['externalApiOptionValue'] = this.returnRequestOrResponseApiKeys('request', eaoValue.value, value, this.parentPosition);\r\n        }\r\n\r\n        return formattedVal;\r\n\r\n    }\r\n\r\n    // uptdates field ids configured in events with unique ids generated for repeatable block rows\r\n    processEventList(rowData, uniqueIds) {\r\n        for (const uId in rowData) {\r\n            const fieldData = rowData[uId];\r\n            for (const event of fieldData?.event_list) {\r\n                for (const eParam of event?.event_params) {\r\n                    switch (eParam?.event_config?.display_step) {\r\n                        case \"SetValues\":\r\n                        case \"CustomFunctions\":\r\n                            const pTypes = ['TargetFields', 'ValueFields', 'Variables', 'Targets']\r\n                            for (const addi_param of eParam?.invoke_event_config?.additional_parameters) {\r\n                                if (addi_param.parameter_type && addi_param.value && pTypes.includes(addi_param.parameter_type)) {\r\n                                    let addiParamValNew: string[] = [];\r\n                                    const addiParamVals = addi_param.value.split('|').map(val => val.trim());\r\n                                    for (const addiParamVal of addiParamVals) {\r\n                                        if (Object.keys(uniqueIds).includes(addiParamVal)) {\r\n                                            addiParamValNew.push(uniqueIds[addiParamVal]);\r\n                                        }\r\n                                        else {\r\n                                            addiParamValNew.push(addiParamVal);\r\n                                        }\r\n                                    }\r\n                                    addi_param.value = addiParamValNew.join('|');\r\n                                }\r\n                            }\r\n                            break;\r\n\r\n                        default:\r\n                            break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    isChildBlock() {\r\n        return (this.parentPosition != undefined && this.parentPosition != null);\r\n    }\r\n\r\n    // update the custom class of the repeatable block if required\r\n    updateSectionCustomClass(counts: any, value: string) {\r\n        if (counts) {\r\n            for (let i = 0; i < counts.length; i++) {\r\n                this.sectionCustomClass[i] =  this.blockRenderedData?.block_style?.custom_class_name || '';\r\n                if (this.blockRenderedData?.custom_class_condition && this.blockRenderedData?.custom_class_condition['query'] != '') {\r\n                    const customClassCondition = this.conditionalUtil.checkCustomClass(this.blockRenderedData, this.stepId + '$' + this.blockId + '$' + i, value);\r\n                    if (!customClassCondition) {\r\n                        this.sectionCustomClass[i] = '';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private onFieldDataUpdated(fieldId: string, value: string) {\r\n        // skip conditionCheck and updateSectionCustomClass if fieldId does not match\r\n        if(this.fieldData.unique_id !== fieldId) {\r\n            return;\r\n        }        \r\n        this.conditionCheck(value);        \r\n        this.updateSectionCustomClass(this.counter, value);\r\n    }\r\n\r\n    // update visible and editable flags of the repeatable block\r\n    private conditionCheck(value: any) {\r\n        if (this.fieldData.is_editable === 2) {\r\n            const editable = this.conditionalUtil.checkEditable(this.fieldData, String(this.appData.id), value);\r\n            if (editable !== undefined) {\r\n                this.buttonEditable = editable;\r\n                this.hideActionButton = editable;\r\n            }\r\n        }\r\n\r\n        if (this.fieldData.is_display === 2) {\r\n            const visible = this.conditionalUtil.checkVisibility(this.fieldData, String(this.appData.id), value);\r\n            if (visible !== undefined) {\r\n                this.isVisible = visible;\r\n\r\n                // If the block is not visible, check and set the mandatory condition for fields\r\n                this.setMandatoryConditionForBlockFields();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the mandatory condition for all fields in the block when the block is not visible.\r\n     * This ensures that if the block is hidden, any fields that were mandatory are set to non-mandatory.\r\n     */\r\n    setMandatoryConditionForBlockFields() {\r\n        if(!this.blockRenderedData) \r\n            return;\r\n        \r\n        const appData = this.appDataService.getAllAppStoreData();\r\n        if (!appData)\r\n            return;\r\n\r\n        if (this.isVisible) {\r\n            // Filter fields that belong to this block and were mandatory originally\r\n            const fieldsToUpdate = appData.filter(field =>\r\n                this.blockId === field.linkedBlockId && field.mandatoryOriginal && field.visible\r\n            );\r\n            \r\n            // Batch update all fields that need changes\r\n            if (fieldsToUpdate.length > 0) {\r\n                fieldsToUpdate.forEach(field => {\r\n                    this.appDataService.updateAppData({\r\n                        ...field,\r\n                        mandatory: true,\r\n                    });\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            // Filter fields that belong to this block and are mandatory\r\n            const fieldsToUpdate = appData.filter(field =>\r\n                this.blockId === field.linkedBlockId && field.mandatory\r\n            );\r\n            \r\n            // Batch update all fields that need changes\r\n            if (fieldsToUpdate.length > 0) {\r\n                fieldsToUpdate.forEach(field => {\r\n                    this.appDataService.updateAppData({\r\n                        ...field,\r\n                        mandatory: false,\r\n                        mandatoryOriginal: true,\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    protected checkFieldVisibility(field: any, rowData: any) {        \r\n        if (field.is_display === 0)\r\n            return false;\r\n        if (field.is_display === 2)\r\n            return this.conditionalUtil.checkVisibility(field, rowData.api_key, rowData.value);\r\n        return true;\r\n    }\r\n\r\n    // this is otimized function to get the max index from the response\r\n    private getMaxIndex(res: any) {\r\n        let hasAPIKey = false;\r\n        if (res) {\r\n            let max = 0;\r\n            let apiKeys = this.returnAPIKeyForMultipleApiKeys();\r\n            for (const apiKey of apiKeys) {\r\n                if (!apiKey) {\r\n                    continue;\r\n                }\r\n                \r\n                // Escape special regex characters and replace [*] with a regex pattern to capture the index\r\n                const regexPattern = apiKey.replace('*', '\\\\d+')\r\n                    .replace(/\\[/g, '\\\\[')\r\n                    .replace(/\\]/g, '\\\\]');\r\n                const regex = new RegExp(regexPattern);\r\n                let keys = Object.keys(res);\r\n                for (let i = keys.length-1; i >= 0 ; i--) {\r\n                    const key = keys[i];\r\n                    const result = key.match(regex);\r\n                    if (result) {\r\n                        hasAPIKey = true;\r\n                        const startIdx = apiKey.replace('[*]', '').length + 1;\r\n                        const endIdx = result[0].indexOf(']', startIdx);                        \r\n                        max = +result[0].substring(startIdx, endIdx); // unary plus to convert string to number which is fastest\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            this.responseMap = res; // assign the entire response map\r\n            if (hasAPIKey) {\r\n                const tCounter = [];\r\n                for (let index = 0; index < max + 1; index++) {\r\n                    tCounter.push({ active: true, activeIndex: index + 1 });\r\n                }\r\n                this.isApiResponse = true;                \r\n                return tCounter;\r\n            } else {\r\n                if (this.isChildBlock()) {\r\n                    return this.childCounter;\r\n                }\r\n                return this.counter;\r\n            }\r\n        } else {\r\n            if (this.isChildBlock()) {\r\n                return this.childCounter;\r\n            }\r\n            return this.counter;\r\n        }\r\n    }\r\n\r\n    private checkIfResHasBlankData(res) {\r\n        let flag = false;\r\n        if (res) {\r\n            let apiKeys = this.returnAPIKeyForMultipleApiKeys();\r\n            for (const apiKey of apiKeys) {\r\n                if (!apiKey) {\r\n                    continue;\r\n                }\r\n                const key = apiKey.replace('[*]', '');\r\n                if (res[key] && res[key].length === 0) {\r\n                    flag = true;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return flag;\r\n    }\r\n\r\n    private checkIfResHasRepeatedData(res) {\r\n        let hasAPIKey = false;\r\n        if (res) {\r\n            let apiKeys = this.returnAPIKeyForMultipleApiKeys();\r\n            for (const apiKey of apiKeys) {\r\n                if (!apiKey) {\r\n                    continue;\r\n                }\r\n                const regex = apiKey.replace('*', '\\\\d+')\r\n                    .replace(/\\[/g, '\\\\[')\r\n                    .replace(/\\]/g, '\\\\]');\r\n\r\n                for (const key of Object.keys(res)) {\r\n                    if (key.indexOf('[*]') <= -1) {\r\n                        const result = key.match(new RegExp(regex));\r\n                        if (result) {\r\n                            hasAPIKey = true;\r\n                        }\r\n                    } else {\r\n                        hasAPIKey = false;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return hasAPIKey;\r\n    }\r\n\r\n\r\n    updateFieldState(appData) {\r\n        this.appDataService.updateAppData(appData);\r\n    }  \r\n\r\n    /**\r\n     * function that returns field label or the value of the label\r\n     * @param fieldTemp field Data\r\n     * @param apiKey the api key response api key or normal api key\r\n     * @param id field id\r\n     */\r\n    private returnFieldDataForLabel(fieldTemp, apiKey, id, posVal) {\r\n        let returnValue;\r\n        if (fieldTemp?.field_type === 'label' && !(fieldTemp?.response_api_key)) {\r\n            returnValue = fieldTemp?.field_label;\r\n            if (returnValue && returnValue.includes('((dynamic))')) {\r\n                const keys = (returnValue.split('((dynamic))')[1]).match(new RegExp(/\\%(.*?)\\%/g));\r\n                if (keys) {\r\n                    for (const apiKey1 of keys) {\r\n                        let apiKey = apiKey1.split('%')[1];\r\n                        const keyValue = this.returnRequestOrResponseApiKeys('response', apiKey, posVal, this.parentPosition);\r\n                        returnValue = returnValue.replace('%' + apiKey + '%', keyValue !== undefined ? '%' + keyValue + '%' : '');\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            returnValue = this.returnFieldValue(apiKey, id);\r\n            if (returnValue === undefined) {\r\n                const defaultValue = fieldTemp?.additional_parameters ? fieldTemp?.additional_parameters.find(i => i.parameter_type === 'default_value') : null;\r\n                if (defaultValue) {\r\n                    returnValue = defaultValue.value;\r\n                }\r\n            }\r\n        }\r\n        return returnValue ? returnValue : '';\r\n    }\r\n\r\n    /**\r\n     * function that returns value in respect ot the api key based on the\r\n     * condition if it uses single or multiple api key\r\n     * @param apiKey the api key response api key or normal api key\r\n     * @param id field id\r\n     */\r\n    private returnFieldValue(apiKey, id) {\r\n        // TODO: Check functionality\r\n        let value;\r\n        for (const key of apiKey) {\r\n            if (key.includes('+')) {\r\n                let val;\r\n                const concatKeys = key.split('+');\r\n                for (const singleKey of concatKeys) {\r\n                    val = concatKeys.indexOf(singleKey) === 0 ? this.responseMap[singleKey] : value + ' ' + this.responseMap[singleKey];\r\n                }\r\n                value = val;\r\n            } else if (this.responseMap.hasOwnProperty(key)) {\r\n                value = this.responseMap[key];\r\n            }\r\n            else {\r\n                const valTemp = this.setApiCallBackDataUtil.getArrayWithIndex(this.responseMap, key);\r\n                if (valTemp) {\r\n                    value = valTemp;\r\n                }\r\n            }\r\n        }\r\n\r\n        if (value === undefined) {\r\n            value = this.appDataService.getFieldDataByFieldId(id);\r\n        }\r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * returns the multiple api keys based on the type of the key\r\n     * @param type the type of the key\r\n     * @param key the api key\r\n     */\r\n    private returnRequestOrResponseApiKeys(type, key, position, parentPosition = null) {\r\n        if (key) {\r\n            if (!key.includes('||')) {\r\n                key = key.replace(/\\[\\*\\]/g, position); // change [*] with [ index ]\r\n                if (this.isChildBlock()) {\r\n                    key = key.replace(/\\[\\*\\*\\]/g, '[' + parentPosition + ']'); // change [**] with [ parentindex ]\r\n                }\r\n                return this.apiKeyUtil.getMultipleApiKeys(\r\n                    type === 'response' ?\r\n                        this.apiKeyUtil.getConcatenatedApiKeys(key) : key);\r\n            } else {\r\n                let newKeyArr = [];\r\n                key.split('||').forEach(element => {\r\n                    let starCount = element.split('[*]');\r\n                    if (starCount && starCount.length > 2) {\r\n                        newKeyArr.push(element.replace(/\\[\\*\\]/, position)); // change [*] with [ index ]\r\n                    } else {\r\n                        newKeyArr.push(element);\r\n                    }\r\n                });\r\n                return this.apiKeyUtil.getMultipleApiKeys(\r\n                    type === 'response' ?\r\n                        this.apiKeyUtil.getConcatenatedApiKeys(newKeyArr.join('|')) : newKeyArr.join('|'));\r\n            }\r\n        } else {\r\n            return [];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * function returns the last index of the api key\r\n     */\r\n    private returnAPIKeyForMultipleApiKeys() {\r\n        if (this.fieldData.response_api_key.includes('||')) {\r\n            // return all response keys separately so the\r\n            // data map stores the values of each and every key\r\n            return this.fieldData.response_api_key.split('||').map(str => str.trim());\r\n        } else {\r\n            const keys = this.apiKeyUtil.getMultipleApiKeys(this.fieldData.response_api_key);\r\n            return keys;\r\n        }\r\n    }\r\n\r\n    ngOnDestroy() {\r\n        for (const key in this.variableObj) {\r\n            if (this.variableObj[key]) {\r\n                this.variableObj[key].unsubscribe();\r\n            }\r\n        }\r\n\r\n        if (this.lazyInterval) {\r\n            clearInterval(this.lazyInterval);\r\n        }\r\n        this.counter = [];\r\n        this.childCounter = {};\r\n        this.repeatebleFieldsRows = [];\r\n        \r\n    }\r\n    ngOnChanges(changes: SimpleChanges): void {        \r\n    }\r\n    \r\n}"],"names":["i1.RBRendererComponent","i1.UserDataHandlerService","i2.AppDataService","i3.ApiDataService","i4.CEEInternalEmitterService","i5.SharedEventsServiceService","i6","i7.WfeStepLoaderService","i8","i9.CeeApiService","i10"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MAOa,MAAM,CAAA;AAEf,IAAA,IAAI;IAEJ,aAAa,GAAG,EAAE;AAClB,IAAA,YAAY,GAAG;AACX,QAAA,KAAK,EAAE,KAAK,CAAC,MAAK;AACd,YAAA,IAAI,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,EAAE;AAC7B,gBAAA,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC;AACrC,YAAA;AAAM,iBAAA;AACH,gBAAA,MAAM,CAAC,GAAG,OAAO,gDAAsD,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,iBAAiB,CAAC;AACvG,gBAAA,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,GAAG,CAAC;AAC/B,gBAAA,OAAO,CAAC;AACX,YAAA;AACL,QAAA,CAAC,CAAC;AACF,QAAA,SAAS,EAAE,KAAK,CAAC,MAAK;AAClB,YAAA,IAAI,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,EAAE;AACjC,gBAAA,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC;AACzC,YAAA;AAAM,iBAAA;AACH,gBAAA,MAAM,CAAC,GAAG,OAAO,oDAA8D,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,qBAAqB,CAAC;AACnH,gBAAA,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,GAAG,CAAC;AACnC,gBAAA,OAAO,CAAC;AACX,YAAA;AACL,QAAA,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCF,QAAA,IAAI,EAAE,KAAK,CAAC,MAAK;AACb,YAAA,IAAI,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,EAAE;AAC5B,gBAAA,OAAO,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC;AACpC,YAAA;AAAM,iBAAA;AACH,gBAAA,MAAM,CAAC,GAAG,OAAO,+CAAoD,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,gBAAgB,CAAC;AACpG,gBAAA,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC;AAC9B,gBAAA,OAAO,CAAC;AACX,YAAA;AACL,QAAA,CAAC,CAAC;AACF,QAAA,QAAQ,EAAE,KAAK,CAAC,MAAK;AACjB,YAAA,IAAI,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,EAAE;AAChC,gBAAA,OAAO,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC;AACxC,YAAA;AAAM,iBAAA;AACH,gBAAA,MAAM,CAAC,GAAG,OAAO,mDAA4D,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,oBAAoB,CAAC;AAChH,gBAAA,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,GAAG,CAAC;AAClC,gBAAA,OAAO,CAAC;AACX,YAAA;AACL,QAAA,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BF,QAAA,MAAM,EAAE,KAAK,CAAC,MAAK;AACf,YAAA,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,EAAE;AAC9B,gBAAA,OAAO,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC;AACtC,YAAA;AAAM,iBAAA;AACH,gBAAA,MAAM,CAAC,GAAG,OAAO,wCAAwD,qCAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,kBAAkB,CAAC;AAC1G,gBAAA,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC;AAChC,gBAAA,OAAO,CAAC;AACX,YAAA;AACL,QAAA,CAAC,CAAC;;;;;;;;;;AAUF,QAAA,WAAW,EAAE,KAAK,CAAC,MAAK;AACpB,YAAA,IAAI,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,EAAE;AACnC,gBAAA,OAAO,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC;AAC3C,YAAA;AAAM,iBAAA;AACH,gBAAA,MAAM,CAAC,GAAG,OAAO,sDAAkE,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,uBAAuB,CAAC;AACzH,gBAAA,IAAI,CAAC,aAAa,CAAC,aAAa,CAAC,GAAG,CAAC;AACrC,gBAAA,OAAO,CAAC;AACX,YAAA;AACL,QAAA,CAAC,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KA8CL;AAED,IAAA,WAAA,CAAY,IAAyB,EAAA;AACjC,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI;IACpB;AAEA,IAAA,gBAAgB,CAAC,SAAiB,EAAA;QAC9B,IAAI,IAAI,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC;AACvC,QAAA,IAAG,IAAI,EAAE;AACL,YAAA,OAAO,IAAI;AACd,QAAA;AACD,QAAA,OAAO,CAAC,GAAG,CAAC,aAAa,SAAS,CAAA,qCAAA,CAAuC,CAAC;AAC1E,QAAA,OAAO,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC;IACrC;AAEA,IAAA,kBAAkB,CAAC,KAAU,EAAE,CAAS,EAAE,cAAmB,EAAA;QACzD,MAAM,SAAS,GAAG,CAAC,MAAM,EAAE,OAAO,EAAE,UAAU,CAAC;AAC/C,QAAA,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC,SAAS,CAAC;AACpE,QAAA,IAAI,MAAM,GAAG;AACT,YAAA,MAAM,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM;AACxB,YAAA,QAAQ,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ;AAC5B,YAAA,OAAO,EAAE,OAAO;SACnB;QAED,IAAG,SAAS,CAAC,QAAQ,CAAC,KAAK,CAAC,UAAU,CAAC,EAAE;AACrC,YAAA,MAAM,CAAC,aAAa,CAAC,GAAG,KAAK;AAC7B,YAAA,MAAM,CAAC,MAAM,CAAC,GAAG,KAAK,CAAC,UAAU;AACpC,QAAA;AACI,aAAA;AACD,YAAA,MAAM,CAAC,WAAW,CAAC,GAAG,KAAK;AAC3B,YAAA,MAAM,CAAC,WAAW,CAAC,GAAG,IAAI;YAC1B,MAAM,CAAC,oBAAoB,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,kBAAkB;YAC3D,MAAM,CAAC,mBAAmB,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,iBAAiB;YACzD,MAAM,CAAC,kBAAkB,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,gBAAgB;AAC1D,QAAA;AAGD,QAAA,IAAG,KAAK,CAAC,UAAU,KAAK,OAAO,EAAE;AAC7B,YAAA,MAAM,CAAC,gBAAgB,CAAC,GAAG,cAAc;AAC5C,QAAA;AACI,aAAA,IAAG,KAAK,CAAC,UAAU,KAAK,QAAQ,EAAE;YACnC,MAAM,CAAC,iBAAiB,CAAC,GAAG;gBACxB,IAAI,EAAE,KAAK,CAAC,SAAS;AACrB,gBAAA,KAAK,EAAE,OAAO,GAAG,OAAO,CAAC;AACzB,gBAAA,IAAI,EAAE,YAAY;AAClB,gBAAA,QAAQ,EAAE;aAEb;AACJ,QAAA;AACD,QAAA,OAAO,MAAM;IACjB;IAEA,eAAe,CAAC,KAAU,EAAE,QAAa,EAAA;AACrC,QAAA,MAAM,SAAS,GAAG,CAAA,MAAA,EAAS,QAAQ,EAAE;AACrC,QAAA,MAAM,cAAc,GAAG,KAAK,CAAC;AACzB,cAAE,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,iBAAiB,CACpC,KAAK,CAAC,WAAW,CAAC,oBAAoB,EACtC,IAAI,CAAC,IAAI,CAAC,YAAY,EACtB,EAAE,EACF,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,yBAAyB,CAAC,KAAK,CAAC;cAE5D,EAAE;QAER,OAAO,CAAA,EAAG,SAAS,CAAA,CAAA,EAAI,cAAc,EAAE,CAAC,IAAI,EAAE;IAClD;gEAjPS,MAAM,EAAA,EAAA,CAAA,QAAA,CAAAA,mBAAA,CAAA,CAAA,CAAA,CAAA,CAAA;gEAAN,MAAM,EAAA,OAAA,EAAN,MAAM,CAAA,IAAA,EAAA,UAAA,EAFH,MAAM,EAAA,CAAA;;iFAET,MAAM,EAAA,CAAA;cAHlB,UAAU;AAAC,QAAA,IAAA,EAAA,CAAA;AACR,gBAAA,UAAU,EAAE,MAAM;AACrB,aAAA;;;MCAY,kBAAkB,CAAA;AAE3B,IAAA,IAAI;AAEJ,IAAA,WAAA,CAAY,IAAyB,EAAA;AACjC,QAAA,IAAI,CAAC,IAAI,GAAG,IAAI;IACpB;IAEA,sBAAsB,GAAA;AAClB,QAAA,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,gCAAgC,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;AACvF,YAAA,IAAI,CAAC,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,GAAG,KAAI;;AAE3D,gBAAA,MAAM,SAAS,GAAG,IAAI,CAAC,YAAY,EAAE;;gBAErC,IAAI,GAAG,CAAC,aAAa,IAAI,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;;AAExC,oBAAA,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE;wBACzB,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,QAAQ,CAAC;AACtD,wBAAA,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACnB,4BAAA,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,GAAG,CAAC;AACxC,wBAAA;AACJ,oBAAA;AAAM,yBAAA;;AAEH,wBAAA,IAAI,GAAG,CAAC,cAAc,KAAK,SAAS,CAAC,cAAc,EAAE;;4BAEjD,MAAM,MAAM,GAAG,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,QAAQ,CAAC;AACtD,4BAAA,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;AACnB,gCAAA,IAAI,CAAC,mBAAmB,CAAC,MAAM,EAAE,GAAG,CAAC;AACxC,4BAAA;AACJ,wBAAA;AACJ,oBAAA;AACJ,gBAAA;AACL,YAAA,CAAC,CAAC;IACN;;IAGA,YAAY,GAAG,MAAK;QAChB,OAAO;AACH,YAAA,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,cAAc;AACrC,YAAA,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,iBAAiB;AACzC,YAAA,WAAW,EAAE,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,MAAM;AAClD,YAAA,OAAO,EAAE,IAAI,CAAC,IAAI,CAAC,OAAO;AAC1B,YAAA,YAAY,EAAE,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;AACtC,YAAA,cAAc,EAAE,IAAI,CAAC,IAAI,CAAC;SAC7B;AACL,IAAA,CAAC;;AAGD,IAAA,oBAAoB,CAAC,QAAgB,EAAA;QACjC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,oBAAoB,CAAC,QAAQ,CAAC,EAAE;AAC3C,YAAA,OAAO,EAAE;AACZ,QAAA;QACD,OAAO,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAE,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,KAAU,KAAK,KAAK,CAAC,OAAO,CAAC;IACtG;;AAGA,IAAA,MAAM,mBAAmB,CAAC,GAAU,EAAE,SAAS,EAAA;AAC3C,QAAA,MAAM,OAAO,GAAQ;AACjB,YAAA,MAAM,EAAE,EAAE;YACV,YAAY,EAAE,SAAS,CAAC,YAAY;YACpC,aAAa,EAAE,SAAS,CAAC,aAAa;YACtC,cAAc,EAAE,SAAS,CAAC,cAAc;YACxC,QAAQ,EAAE,SAAS,CAAC,QAAQ;YAC5B,oBAAoB,EAAE,SAAS,CAAC,oBAAoB;YACpD,MAAM,EAAE,SAAS,CAAC;SACrB;AACD,QAAA,MAAM,YAAY,GAAQ,MAAM,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,6CAA6C,CAAC,SAAS,CAAC,oBAAoB,CAAC;AACtI,QAAA,KAAK,MAAM,EAAE,IAAI,GAAG,EAAE;AAClB,YAAA,MAAM,QAAQ,GAAG,MAAM,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACvC,YAAA,OAAO,CAAC,QAAQ,CAAC,CAAC,QAAQ,CAAC,GAAG,MAAM,YAAY,CAAC,EAAE,CAAC;AACvD,QAAA;;;AAGD,QAAA,IAAI,CAAC,IAAI,CAAC,cAAc,CAAC,UAAU,CAAC;AAChC,YAAA,EAAE,EAAE,8BAA8B;AAClC,YAAA,MAAM,EAAE,EAAE;AACV,YAAA,MAAM,EAAE,8BAA8B;YACtC,KAAK,EAAE,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,OAAO,CAAC;AACpC,SAAA,CAAC;IACN;4EA/ES,kBAAkB,EAAA,EAAA,CAAA,QAAA,CAAAA,mBAAA,CAAA,CAAA,CAAA,CAAA,CAAA;gEAAlB,kBAAkB,EAAA,OAAA,EAAlB,kBAAkB,CAAA,IAAA,EAAA,UAAA,EAFf,MAAM,EAAA,CAAA;;iFAET,kBAAkB,EAAA,CAAA;cAH9B,UAAU;AAAC,QAAA,IAAA,EAAA,CAAA;AACR,gBAAA,UAAU,EAAE,MAAM;AACrB,aAAA;;;;;;ICGe,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,mGAAA,EAAA,CAAA,EAAA,CAAA,EAAA,aAAA,CAA4G;;;IADhH,EAAA,CAAA,uBAAA,CAAA,CAAA,CAAgH;IAC5G,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,qFAAA,EAAA,CAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA,CAA4G;;;;;;;;;;IAA9F,EAAA,CAAA,SAAA,EAA4B;AAAA,IAA5B,8CAA4B,CAAA,yBAAA,EAAA,EAAA,CAAA,eAAA,CAAA,CAAA,EAAA,GAAA,EAAA,QAAA,EAAA,WAAA,EAAA,IAAA,EAAA,MAAA,CAAA,CAAgE;;;IALlH,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,SAAA,EAAA,CAAA,CAG2V;IACvV,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,mFAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,CAAgH;IAIpH,EAAA,CAAA,YAAA,EAAU;;;;IALN,EAAA,CAAA,sBAAA,CAAA,CAAA,sBAAA,EAAA,IAAA,EAAA,GAAA,EAAA,MAAA,CAAA,OAAA,EAAA,gBAAA,EAAA,IAAA,EAAA,IAAA,EAAA,MAAA,CAAA,cAAA,GAAA,MAAA,CAAA,OAAA,GAAA,KAAA,GAAA,MAAA,CAAA,cAAA,GAAA,KAAA,GAAA,IAAA,GAAA,MAAA,CAAA,OAAA,GAAA,KAAA,GAAA,IAAA,EAAA,aAAA,EAAA,MAAA,CAAA,UAAA,EAAA,SAAA,EAAA,MAAA,CAAA,OAAA,EAAA,GAAA,EAAA,MAAA,CAAA,YAAA,GAAA,KAAA,GAAA,EAAA,EAAA,GAAA,EAAA,MAAA,CAAA,kBAAA,GAAA,qBAAA,GAAA,oBAAA,EAAA,GAAA,EAAA,MAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,GAAA,MAAA,CAAA,kBAAA,CAAA,IAAA,CAAA,GAAA,EAAA,EAAA,GAAA,CAAA,CAAsV;IAH9Q,EAAA,CAAA,qBAAA,CAAA,IAAA,EAAA,MAAA,CAAA,OAAA,CAAkB;;IAI1D,EAAA,CAAA,SAAA,EAAmC;AAAmB,IAAtD,+DAAmC,CAAA,cAAA,EAAA,MAAA,CAAA,cAAA,CAA2C;;;IALtH,EAAA,CAAA,uBAAA,CAAA,CAAA,CAAqF;IACjF,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,oEAAA,EAAA,CAAA,EAAA,EAAA,EAAA,SAAA,EAAA,CAAA,CAG2V;;;;;;IAHjV,EAAA,CAAA,SAAA,EAAgE;IAAhE,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,MAAA,CAAA,MAAA,IAAA,MAAA,CAAA,iBAAA,IAAA,MAAA,CAAA,oBAAA,CAAA,IAAA,CAAA,CAAgE;;;IAHlF,EAAA,CAAA,uBAAA,CAAA,CAAA,CAAgC;IAC5B,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,KAAA,CAA0G;IAC1G,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,0DAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,CAAqF;;;;IADhF,EAAA,CAAA,SAAA,EAA8F;IAA9F,EAAA,CAAA,sBAAA,CAAA,qBAAA,EAAA,MAAA,CAAA,kBAAA,GAAA,qBAAA,GAAA,oBAAA,EAAA,EAAA,CAA8F;IACrE,EAAA,CAAA,SAAA,EAAY;AAAe,IAA3B,wCAAY,CAAA,cAAA,EAAA,MAAA,CAAA,gBAAA,CAAyC;;;IAenF,EAAA,CAAA,uBAAA,CAAA,CAAA,CAA+F;IAC3F,EAAA,CAAA,SAAA,CAAA,CAAA,EAAA,aAAA,EAAA,CAAA,CAIc;;;;;;;;IAJD,EAAA,CAAA,SAAA,EAAiD;IAAjD,EAAA,CAAA,UAAA,CAAA,MAAA,CAAA,MAAA,CAAA,eAAA,CAAA,QAAA,EAAA,YAAA,CAAA,CAAiD;AAGwB,IAFlF,EAAA,CAAA,UAAA,CAAA,QAAA,EAAA,MAAA,CAAA,MAAA,CAAiB,CAAA,UAAA,EAAA,MAAA,CAAA,QAAA,CAAsB,uHAAuD,CAAA,aAAA,EAAA,MAAA,CAAA,SAAA,CAAA,SAAA,CAC3D,CAAA,gBAAA,EAAA,KAAA,CAAqB,uBAAoB,CAAA,YAAA,EAAA,MAAA,CAAA,UAAA,CAA0B,CAAA,oBAAA,EAAA,MAAA,CAAA,kBAAA,CAC7D,+CAAwC,CAAA,kBAAA,EAAA,MAAA,CAAA,gBAAA,CAAsC;;;IAKvH,EAAA,CAAA,kBAAA,CAAA,CAAA,CAAiK;;;IAFzK,EAAA,CAAA,uBAAA,CAAA,CAAA,CAA+F;IAC3F,EAAA,CAAA,cAAA,CAAA,CAAA,EAAA,KAAA,CAAuD;IACnD,EAAA,CAAA,UAAA,CAAA,CAAA,EAAA,wEAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,CAAkJ;;IACtJ,EAAA,CAAA,YAAA,EAAM;;;;;;;;;IAFD,EAAA,CAAA,SAAA,EAAiD;IAAjD,EAAA,CAAA,UAAA,CAAA,MAAA,CAAA,MAAA,CAAA,eAAA,CAAA,QAAA,EAAA,YAAA,CAAA,CAAiD;IACnC,EAAA,CAAA,SAAA,EAAsE;AAAA,IAAtE,6GAAsE,CAAA,yBAAA,EAAA,MAAA,CAAA,MAAA,CAAA,kBAAA,CAAA,QAAA,EAAA,KAAA,EAAA,kBAAA,CAAA,CAA2D;;;AAFxJ,IAPA,qGAA+F,CAAA,CAAA,EAAA,yDAAA,EAAA,CAAA,EAAA,CAAA,EAAA,cAAA,EAAA,CAAA,CAOA;;;IAPhF,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,QAAA,CAAA,UAAA,KAAA,QAAA,IAAA,QAAA,CAAA,UAAA,KAAA,kBAAA,CAA8E;IAO9E,EAAA,CAAA,SAAA,EAA8E;IAA9E,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,QAAA,CAAA,UAAA,KAAA,QAAA,IAAA,QAAA,CAAA,UAAA,KAAA,kBAAA,CAA8E;;MCOpF,mBAAmB,CAAA;AA4EjB,IAAA,sBAAA;AACA,IAAA,cAAA;AACA,IAAA,cAAA;AACA,IAAA,kBAAA;AACA,IAAA,mBAAA;AACA,IAAA,QAAA;AACA,IAAA,oBAAA;AACA,IAAA,MAAA;AACC,IAAA,GAAA;AACD,IAAA,cAAA;AACC,IAAA,QAAA;AArFK,IAAA,MAAM;AACN,IAAA,SAAS;AACjB,IAAA,UAAU;AACV,IAAA,kBAAkB;AAClB,IAAA,iBAAiB;AACjB,IAAA,gBAAgB;AACR,IAAA,QAAQ;AAChB,IAAA,cAAc;AACd,IAAA,OAAO;AACP,IAAA,WAAW;AAEpB,IAAA,iBAAiB;IACjB,QAAQ,GAAG,EAAE;IACb,mBAAmB,GAAG,EAAE;IACxB,OAAO,GAAQ,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,CAAC;IACjC,YAAY,GAAQ,EAAE;IACtB,cAAc,GAAG,CAAC;AAClB,IAAA,YAAY;IACZ,IAAI,GAAG,EAAE;IACT,gBAAgB,GAAY,IAAI;AAEhC,IAAA,OAAO,GAAY;AACf,QAAA,EAAE,EAAE,EAAE;AACN,QAAA,MAAM,EAAE,EAAE;AACV,QAAA,MAAM,EAAE,EAAE;AACV,QAAA,aAAa,EAAE,EAAE;AACjB,QAAA,eAAe,EAAE,IAAI;AACrB,QAAA,oBAAoB,EAAE,EAAE;AACxB,QAAA,aAAa,EAAE,EAAE;AACjB,QAAA,cAAc,EAAE,EAAE;AAClB,QAAA,mBAAmB,EAAE,EAAE;AACvB,QAAA,SAAS,EAAE,KAAK;AAChB,QAAA,QAAQ,EAAE,KAAK;AACf,QAAA,OAAO,EAAE,KAAK;AACd,QAAA,KAAK,EAAE,EAAE;AACT,QAAA,OAAO,EAAE;KACZ;AACD,IAAA,WAAW,GAAG,EAAE,CAAC;IACjB,WAAW,GAAG,EAAE;IAChB,UAAU,GAAG,KAAK;IAClB,cAAc,GAAG,KAAK;IACtB,SAAS,GAAG,KAAK;IACjB,WAAW,GAAG,KAAK;IACnB,OAAO,GAAG,EAAE;AACZ,IAAA,OAAO;AACP,IAAA,eAAe;IACf,aAAa,GAAG,KAAK;IACrB,YAAY,GAAY,KAAK;AAC7B,IAAA,UAAU;AACV,IAAA,UAAU;AACV,IAAA,kBAAkB;AAClB,IAAA,MAAM;AAEN,IAAA,YAAY,GAAQ,EAAE,CAAC;IACvB,WAAW,GAAU,EAAE;AACvB,IAAA,UAAU;AACV,IAAA,sBAAsB;IACtB,oBAAoB,GAAG,EAAE;IACzB,kBAAkB,GAAY,KAAK;IACnC,kBAAkB,GAAG,EAAE;IACvB,UAAU,GAAG,KAAK;IAClB,SAAS,GAAG,GAAG;IAEf,eAAe,GAAQ,IAAI;IAC3B,mBAAmB,GAAQ,KAAK;AAChC,IAAA,kBAAkB;AAElB,IAAA,mBAAmB;IACnB,WAAW,GAAG,EAAE;IAChB,uBAAuB,GAAY,KAAK;IACxC,iBAAiB,GAAW,CAAC;IAC7B,gBAAgB,GAAY,KAAK;IACjC,cAAc,GAAY,KAAK;IAE/B,WAAA,CACW,sBAA8C,EAC9C,cAA8B,EAC9B,cAA8B,EAC9B,kBAA6C,EAC7C,mBAA+C,EAC/C,QAAqB,EACrB,oBAA0C,EAC1C,MAAc,EACb,GAAsB,EACvB,cAA8B,EAC7B,QAAoB,EAAA;QAVrB,IAAA,CAAA,sBAAsB,GAAtB,sBAAsB;QACtB,IAAA,CAAA,cAAc,GAAd,cAAc;QACd,IAAA,CAAA,cAAc,GAAd,cAAc;QACd,IAAA,CAAA,kBAAkB,GAAlB,kBAAkB;QAClB,IAAA,CAAA,mBAAmB,GAAnB,mBAAmB;QACnB,IAAA,CAAA,QAAQ,GAAR,QAAQ;QACR,IAAA,CAAA,oBAAoB,GAApB,oBAAoB;QACpB,IAAA,CAAA,MAAM,GAAN,MAAM;QACL,IAAA,CAAA,GAAG,GAAH,GAAG;QACJ,IAAA,CAAA,cAAc,GAAd,cAAc;QACb,IAAA,CAAA,QAAQ,GAAR,QAAQ;QAEhB,IAAI,CAAC,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,IAAI,UAAU,CAAC,cAAc,CAAC;QAE7C,IAAI,CAAC,eAAe,GAAG,IAAI,eAAe,CACtC,YAAY,CAAC,OAAO,CAAC,mBAAmB,CAAC,KAAK,MAAM,GAAG,IAAI,GAAG,KAAK,EAAE,cAAc,EAAE,cAAc,CAAC;AAExG,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,EAAE;AAClC,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,UAAU,EAAE;QAClC,IAAI,YAAY,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,MAAM,EAAE;AACjD,YAAA,IAAI,CAAC,YAAY,GAAG,IAAI;AAC3B,QAAA;QACD,IAAI,CAAC,sBAAsB,GAAG,IAAI,kBAAkB,CAAC,cAAc,CAAC;QACpE,IAAI,CAAC,mBAAmB,GAAG,IAAI,gBAAgB,CAAC,cAAc,EAAE,cAAc,CAAC;QAC/E,IAAI,CAAC,kBAAkB,GAAG,IAAI,kBAAkB,CAAC,IAAI,CAAC;IAE1D;IAEA,qBAAqB,GAAA;AACjB,QAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;IAC5B;IAEA,eAAe,GAAA;AACX,QAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;IAC5B;IAEA,cAAc,CAAC,KAAa,EAAE,IAAS,EAAA;QACnC,OAAO,IAAI,CAAC,YAAY;IAC5B;IAEA,gBAAgB,CAAC,KAAa,EAAE,IAAS,EAAA;;QAErC,MAAM,QAAQ,GAAG,IAAI,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC,CAAC,CAAC;AAC7C,QAAA,OAAO,QAAQ;IACnB;;IAGA,iBAAiB,GAAA;QACb,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,oBAAoB;AACxF,QAAA,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;AACrB,YAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;AACtH,QAAA;AAAM,aAAA;AACH,YAAA,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,KAAK,GAAG,CAAC,MAAM,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,EAAE,CAAC,CAAC;AAC5F,QAAA;QACD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,iBAAiB,IAAI,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,IAAI,GAAG,KAAK;IAChG;;IAGA,gBAAgB,GAAA;QACZ,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS;QAC1C,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,WAAW;QACzC,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM;AACjC,QAAA,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,EAAE;QACxB,IAAI,CAAC,OAAO,CAAC,cAAc,GAAG,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,CAAC;AACzI,QAAA,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,eAAe,CAAC;QAC/F,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU;QACvC,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS;QACrC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI;;AAG9B,QAAA,IAAI,CAAC,SAAS,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,EAAE,OAAO,IAAI,IAAI,CAAC,SAAS,CAAC,SAAS;AAC7E,QAAA,IAAI,CAAC,OAAO,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,EAAE,aAAa,IAAI,IAAI,CAAC,OAAO;AAC3E,QAAA,IAAI,CAAC,OAAO,CAAC,oBAAoB,GAAG,IAAI,CAAC,UAAU,EAAE,oBAAoB,IAAI,EAAE;AAE/E,QAAA,IAAI,QAAQ,IAAI,CAAC,UAAU,CAAC,KAAK,QAAQ,IAAI,IAAI,CAAC,UAAU,KAAK,IAAI,EAAE;AACnE,YAAA,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;gBAC3B,IAAI,CAAC,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS;AAC9C,YAAA;AACD,YAAA,IAAI,IAAI,CAAC,UAAU,CAAC,SAAS,EAAE;gBAC3B,IAAI,CAAC,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,SAAS;AACrD,YAAA;AACD,YAAA,IAAI,IAAI,CAAC,UAAU,CAAC,QAAQ,EAAE;gBAC1B,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,IAAI,CAAC,UAAU,CAAC,QAAQ;AACnD,YAAA;AACD,YAAA,IAAI,IAAI,CAAC,UAAU,CAAC,OAAO,EAAE;gBACzB,IAAI,CAAC,OAAO,CAAC,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,OAAO;AACjD,YAAA;AACJ,QAAA;IACL;IAEA,MAAM,QAAQ,GAAA,EAAK,MAAM,IAAI,CAAC,IAAI,EAAE,CAAC,CAAA;IACrC,IAAI,GAAG,YAAW;AACd,QAAA,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC,OAAO;QAC9B,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,oBAAoB;QACxF,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,eAAe;QAE5E,IAAI,IAAI,CAAC,OAAO,EAAE;;YAEd,IAAI,CAAC,oBAAoB,CAAC,aAAa,CAAC,WAAW,GAAG,IAAI,CAAC,UAAU;AACrE,YAAA,IAAI,GAAG,GAAG,MAAM,IAAI,CAAC,oBAAoB,CAAC,eAAe,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,SAAS,EAAE;YACnF,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,UAAU,CAAC,qBAAqB,CAAC,GAAG,CAAC;AACtE,QAAA;AACI,aAAA;AACD,YAAA,OAAO,CAAC,KAAK,CAAC,2BAA2B,CAAC;AAC1C,YAAA,OAAO,KAAK;AACf,QAAA;AAED,QAAA,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,KAAK,CAAC,EAAE;AACjC,YAAA,IAAI,CAAC,SAAS,GAAG,IAAI;AACxB,QAAA;AACD,QAAA,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,KAAK,CAAC,EAAE;AAClC,YAAA,IAAI,CAAC,cAAc,GAAG,IAAI;AAC7B,QAAA;QAED,IAAI,CAAC,WAAW,CACZ,yBAAyB,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CACvD,GAAG,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,SAAS,CAAC,GAAG,IAAG;;AAEhE,YAAA,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC;YAC1E,MAAM,QAAQ,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,CAAC;;;AAG9C,YAAA,IAAI,IAAI,CAAC,yBAAyB,CAAC,QAAQ,CAAC,EAAE;gBAC1C,OAAO,CAAC,GAAG,CAAC,2BAA2B,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC;gBAClE,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,KAAK,CAAC,EAAE,CAAC;AACzC,gBAAA,IAAI,CAAC,WAAW,GAAG,EAAE;AACrB,gBAAA,IAAI,CAAC,OAAO,GAAG,EAAE;AACjB,gBAAA,IAAI,CAAC,YAAY,GAAG,EAAE;gBAEtB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;AAC9C,gBAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,WAAW,CAAC;AACrC,gBAAA,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC;gBACzB,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,WAAW,EAAE,IAAI,CAAC;gBAErD,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC;gBAC5C,IAAI,CAAC,WAAW,EAAE;AACrB,YAAA;AACL,QAAA,CAAC,CAAC;AAEF,QAAA,IAAI,CAAC,kBAAkB,CAAC,sBAAsB,EAAE;;QAGhD,IAAI,CAAC,WAAW,CAAC,yBAAyB,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,SAAS,CAAC,GAAG,IAAG;;YAErI,IAAI,CAAC,kBAAkB,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,KAAK,CAAC;AAClD,QAAA,CAAC,CAAC;QAEF,IAAI,CAAC,gBAAgB,EAAE;AAC3B,IAAA,CAAC;;;IAID,WAAW,GAAA;;QAEP,IAAI,IAAI,CAAC,YAAY,EAAE;AACnB,YAAA,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;AACnC,QAAA;AACD,QAAA,IAAI,CAAC,kBAAkB,GAAG,IAAI;AAC9B,QAAA,IAAI,CAAC,OAAO,GAAG,EAAE;QACjB,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE;AAC3C,QAAA,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC,MAAK;AACjC,YAAA,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;AACrB,gBAAA,IAAI,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,IAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,KAAK,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;oBAC1I,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,MAAM,CAAC,CAAC;AAC/G,gBAAA;AAAM,qBAAA;AACH,oBAAA,IAAI,CAAC,kBAAkB,GAAG,KAAK;AAC/B,oBAAA,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;AACnC,gBAAA;AACJ,YAAA;AAAM,iBAAA;gBACH,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,IAAI,CAAC,WAAW,CAAC,MAAM,EAAE;AACjD,oBAAA,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AAC3D,gBAAA;AAAM,qBAAA;AACH,oBAAA,IAAI,CAAC,kBAAkB,GAAG,KAAK;AAC/B,oBAAA,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;AACnC,gBAAA;AACJ,YAAA;YACD,IAAI,IAAI,CAAC,GAAG,IAAI,CAAE,IAAI,CAAC,GAAe,CAAC,SAAS,EAAE;AAC9C,gBAAA,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE;AAC3B,YAAA;;YAGD,IAAI,CAAC,iBAAiB,EAAE;;YAGxB,IAAI,IAAI,CAAC,uBAAuB,EAAE;AAC9B,gBAAA,IAAI,CAAC,mBAAmB,CAAC,mBAAmB,CAAC,IAAI,EAAE;AACtD,YAAA;QACL,CAAC,EAAE,CAAC,CAAC;IAET;AAEA,IAAA,cAAc,CAAC,CAAC,EAAA;QACZ,MAAM,WAAW,GAAG,EAAE;QACtB,MAAM,SAAS,GAAG,EAAE;AACpB,QAAA,KAAK,IAAI,QAAQ,GAAG,CAAC,EAAE,QAAQ,GAAG,IAAI,CAAC,iBAAiB,EAAE,YAAY,CAAC,MAAM,EAAE,QAAQ,EAAE,EAAE;YACvF,MAAM,KAAK,GAAG,IAAI,CAAC,iBAAiB,CAAC,YAAY,CAAC,QAAQ,CAAC;AAC3D,YAAA,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,CAAC,EAAE,KAAK,CAAC;AAC7D,YAAA,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,WAAW,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC,SAAS;AACtE,QAAA;AACD,QAAA,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,SAAS,CAAC;AAC7C,QAAA,OAAO,WAAW;IACtB;AAEQ,IAAA,cAAc,CAAC,CAAM,EAAA;AAC1B,QAAA,IAAI,CAAC,oBAAoB,GAAG,EAAE;AAC7B,QAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC/B,MAAM,WAAW,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC;AAC1C,YAAA,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,WAAW,CAAC;AAC9C,QAAA;;AAGD,QAAA,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,CAAC,IAAI,CAAC,EAAC,SAAS,EAAE,IAAI,CAAC,OAAO,EAAC,CAAC;IAC9E;AAEA,IAAA,eAAe,CAAC,QAAa,EAAE,SAAc,EAAE,IAAI,GAAC,EAAE,EAAA;AAClD,QAAA,MAAM,KAAK,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG;AAClC,QAAA,IAAI,MAAM;AACV,QAAA,IAAI,EAAE,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,SAAS,CAAC,SAAS,GAAG,GAAG,GAAG,QAAQ;AAEjE,QAAA,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;YACrB,EAAE,GAAG,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,SAAS,CAAC,SAAS,GAAG,GAAG,GAAG,IAAI,CAAC,cAAc,GAAG,GAAG,GAAG,QAAQ;YACzF,MAAM,GAAG,SAAS,CAAC,OAAO,GAAG,SAAS,EAAE,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE;AAC5F,QAAA;QACD,MAAM,GAAG,SAAS,EAAE,OAAO,GAAG,SAAS,EAAE,OAAO,CAAC,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,EAAE;AAE3E,QAAA,IAAI,qBAAqB,GAAG,IAAI,CAAC,8BAA8B,CAAC,UAAU,EAAE,SAAS,EAAE,gBAAgB,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC;AAEpI,QAAA,MAAM,YAAY,GAAQ;AACtB,YAAA,OAAO,EAAE,EAAE;AACX,YAAA,SAAS,EAAE,EAAE;AACb,YAAA,OAAO,EAAG,EAAE;AACZ,YAAA,gBAAgB,EAAE,qBAAqB;AACvC,YAAA,eAAe,EAAE,IAAI,CAAC,8BAA8B,CAAC,SAAS,EAAE,SAAS,EAAE,eAAe,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC;YACvH,aAAa,EAAE,IAAI,CAAC,OAAO;AAC3B,YAAA,oBAAoB,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS;YAC9C,aAAa,EAAE,IAAI,CAAC,aAAa;AACjC,YAAA,KAAK,EAAE,IAAI,CAAC,uBAAuB,CAAC,SAAS,EAAE,qBAAqB,EAAE,EAAE,EAAE,KAAK,CAAC;AAChF,YAAA,QAAQ,EAAE,QAAQ;YAClB,cAAc,EAAE,IAAI,CAAC,cAAc;YACnC,aAAa,EAAE,IAAI,CAAC,WAAW;YAC/B,UAAU,EAAE,SAAS,EAAE,UAAU,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,UAAU,CAAC,CAAC,GAAG,EAAE;;;SAG7F;QACD,IAAG,IAAI,IAAI,aAAa,EAAC;;YAErB,YAAY,CAAC,SAAS,GAAG,SAAS,EAAE,YAAY,KAAK,CAAC,CAAC;AACvD,YAAA,YAAY,CAAC,QAAQ,GAAG,SAAS,EAAE,WAAW,KAAK,CAAC,IAAI,SAAS,EAAE,WAAW,KAAK,CAAC;AACpF,YAAA,YAAY,CAAC,OAAO,GAAG,SAAS,EAAE,UAAU,KAAK,CAAC,IAAI,SAAS,EAAE,UAAU,KAAK,CAAC;AACpF,QAAA;QAED,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,CAAC,UAAU,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,EAAE;YAClF,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC;AAChD,gBAAA,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,gBAAgB,CAAC;AAC3D,gBAAA,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,gBAAgB,CAAC,GAAG,YAAY,CAAC,KAAK;AAEpF,YAAA,IAAI,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,YAAY,CAAC,SAAS,CAAC;AACvF,YAAA,IAAI,eAAe,IAAI,eAAe,IAAI,SAAS,IAAI,eAAe,IAAI,IAAI,IAAI,eAAe,IAAI,EAAE,EAAE;AACrG,gBAAA,YAAY,CAAC,KAAK,GAAG,eAAe,GAAG,eAAe,GAAG,YAAY,CAAC,KAAK;AAC9E,YAAA;AACJ,QAAA;AAAM,aAAA;AACH,YAAA,IAAI,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,YAAY,CAAC,SAAS,CAAC;AACvF,YAAA,IAAI,eAAe,IAAI,eAAe,IAAI,SAAS,IAAI,eAAe,IAAI,IAAI,IAAI,eAAe,IAAI,EAAE,EAAE;AACrG,gBAAA,YAAY,CAAC,KAAK,GAAG,eAAe,GAAG,eAAe,GAAG,YAAY,CAAC,KAAK;AAC9E,YAAA;AACJ,QAAA;AAGD,QAAA,MAAM,QAAQ,GAAG,SAAS,EAAE,qBAAqB,GAAG,SAAS,EAAE,qBAAqB,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,CAAC,cAAc,KAAK,wBAAwB,CAAC,GAAG,IAAI;AACtJ,QAAA,IAAI,QAAQ,EAAE;YACV,YAAY,CAAC,wBAAwB,CAAC,GAAG,IAAI,CAAC,8BAA8B,CAAC,SAAS,EAAE,QAAQ,CAAC,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,cAAc,CAAC;AACtI,QAAA;AAED,QAAA,OAAO,YAAY;IAEvB;;IAGA,gBAAgB,CAAC,OAAO,EAAE,SAAS,EAAA;AAC/B,QAAA,KAAK,MAAM,GAAG,IAAI,OAAO,EAAE;AACvB,YAAA,MAAM,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC;AAC9B,YAAA,KAAK,MAAM,KAAK,IAAI,SAAS,EAAE,UAAU,EAAE;AACvC,gBAAA,KAAK,MAAM,MAAM,IAAI,KAAK,EAAE,YAAY,EAAE;AACtC,oBAAA,QAAQ,MAAM,EAAE,YAAY,EAAE,YAAY;AACtC,wBAAA,KAAK,WAAW;AAChB,wBAAA,KAAK,iBAAiB;4BAClB,MAAM,MAAM,GAAG,CAAC,cAAc,EAAE,aAAa,EAAE,WAAW,EAAE,SAAS,CAAC;4BACtE,KAAK,MAAM,UAAU,IAAI,MAAM,EAAE,mBAAmB,EAAE,qBAAqB,EAAE;AACzE,gCAAA,IAAI,UAAU,CAAC,cAAc,IAAI,UAAU,CAAC,KAAK,IAAI,MAAM,CAAC,QAAQ,CAAC,UAAU,CAAC,cAAc,CAAC,EAAE;oCAC7F,IAAI,eAAe,GAAa,EAAE;oCAClC,MAAM,aAAa,GAAG,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC;AACxE,oCAAA,KAAK,MAAM,YAAY,IAAI,aAAa,EAAE;wCACtC,IAAI,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,YAAY,CAAC,EAAE;4CAC/C,eAAe,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC;AAChD,wCAAA;AACI,6CAAA;AACD,4CAAA,eAAe,CAAC,IAAI,CAAC,YAAY,CAAC;AACrC,wCAAA;AACJ,oCAAA;oCACD,UAAU,CAAC,KAAK,GAAG,eAAe,CAAC,IAAI,CAAC,GAAG,CAAC;AAC/C,gCAAA;AACJ,4BAAA;4BACD;AAEJ,wBAAA;4BACI;AACP;AACJ,gBAAA;AACJ,YAAA;AACJ,QAAA;IACL;IAEA,YAAY,GAAA;AACR,QAAA,QAAQ,IAAI,CAAC,cAAc,IAAI,SAAS,IAAI,IAAI,CAAC,cAAc,IAAI,IAAI;IAC3E;;IAGA,wBAAwB,CAAC,MAAW,EAAE,KAAa,EAAA;AAC/C,QAAA,IAAI,MAAM,EAAE;AACR,YAAA,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;AACpC,gBAAA,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAI,IAAI,CAAC,iBAAiB,EAAE,WAAW,EAAE,iBAAiB,IAAI,EAAE;AAC1F,gBAAA,IAAI,IAAI,CAAC,iBAAiB,EAAE,sBAAsB,IAAI,IAAI,CAAC,iBAAiB,EAAE,sBAAsB,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE;AACjH,oBAAA,MAAM,oBAAoB,GAAG,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,MAAM,GAAG,GAAG,GAAG,IAAI,CAAC,OAAO,GAAG,GAAG,GAAG,CAAC,EAAE,KAAK,CAAC;oBAC7I,IAAI,CAAC,oBAAoB,EAAE;AACvB,wBAAA,IAAI,CAAC,kBAAkB,CAAC,CAAC,CAAC,GAAG,EAAE;AAClC,oBAAA;AACJ,gBAAA;AACJ,YAAA;AACJ,QAAA;IACL;IAEQ,kBAAkB,CAAC,OAAe,EAAE,KAAa,EAAA;;AAErD,QAAA,IAAG,IAAI,CAAC,SAAS,CAAC,SAAS,KAAK,OAAO,EAAE;YACrC;AACH,QAAA;AACD,QAAA,IAAI,CAAC,cAAc,CAAC,KAAK,CAAC;QAC1B,IAAI,CAAC,wBAAwB,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC;IACtD;;AAGQ,IAAA,cAAc,CAAC,KAAU,EAAA;AAC7B,QAAA,IAAI,IAAI,CAAC,SAAS,CAAC,WAAW,KAAK,CAAC,EAAE;YAClC,MAAM,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC;YACnG,IAAI,QAAQ,KAAK,SAAS,EAAE;AACxB,gBAAA,IAAI,CAAC,cAAc,GAAG,QAAQ;AAC9B,gBAAA,IAAI,CAAC,gBAAgB,GAAG,QAAQ;AACnC,YAAA;AACJ,QAAA;AAED,QAAA,IAAI,IAAI,CAAC,SAAS,CAAC,UAAU,KAAK,CAAC,EAAE;YACjC,MAAM,OAAO,GAAG,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,IAAI,CAAC,SAAS,EAAE,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,KAAK,CAAC;YACpG,IAAI,OAAO,KAAK,SAAS,EAAE;AACvB,gBAAA,IAAI,CAAC,SAAS,GAAG,OAAO;;gBAGxB,IAAI,CAAC,mCAAmC,EAAE;AAC7C,YAAA;AACJ,QAAA;IACL;AAEA;;;AAGG;IACH,mCAAmC,GAAA;QAC/B,IAAG,CAAC,IAAI,CAAC,iBAAiB;YACtB;QAEJ,MAAM,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,kBAAkB,EAAE;AACxD,QAAA,IAAI,CAAC,OAAO;YACR;QAEJ,IAAI,IAAI,CAAC,SAAS,EAAE;;YAEhB,MAAM,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,IACvC,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,iBAAiB,IAAI,KAAK,CAAC,OAAO,CACnF;;AAGD,YAAA,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3B,gBAAA,cAAc,CAAC,OAAO,CAAC,KAAK,IAAG;AAC3B,oBAAA,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;AAC9B,wBAAA,GAAG,KAAK;AACR,wBAAA,SAAS,EAAE,IAAI;AAClB,qBAAA,CAAC;AACN,gBAAA,CAAC,CAAC;AACL,YAAA;AACJ,QAAA;AACI,aAAA;;YAED,MAAM,cAAc,GAAG,OAAO,CAAC,MAAM,CAAC,KAAK,IACvC,IAAI,CAAC,OAAO,KAAK,KAAK,CAAC,aAAa,IAAI,KAAK,CAAC,SAAS,CAC1D;;AAGD,YAAA,IAAI,cAAc,CAAC,MAAM,GAAG,CAAC,EAAE;AAC3B,gBAAA,cAAc,CAAC,OAAO,CAAC,KAAK,IAAG;AAC3B,oBAAA,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;AAC9B,wBAAA,GAAG,KAAK;AACR,wBAAA,SAAS,EAAE,KAAK;AAChB,wBAAA,iBAAiB,EAAE,IAAI;AAC1B,qBAAA,CAAC;AACN,gBAAA,CAAC,CAAC;AACL,YAAA;AACJ,QAAA;IACL;IAEU,oBAAoB,CAAC,KAAU,EAAE,OAAY,EAAA;AACnD,QAAA,IAAI,KAAK,CAAC,UAAU,KAAK,CAAC;AACtB,YAAA,OAAO,KAAK;AAChB,QAAA,IAAI,KAAK,CAAC,UAAU,KAAK,CAAC;AACtB,YAAA,OAAO,IAAI,CAAC,eAAe,CAAC,eAAe,CAAC,KAAK,EAAE,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC,KAAK,CAAC;AACtF,QAAA,OAAO,IAAI;IACf;;AAGQ,IAAA,WAAW,CAAC,GAAQ,EAAA;QACxB,IAAI,SAAS,GAAG,KAAK;AACrB,QAAA,IAAI,GAAG,EAAE;YACL,IAAI,GAAG,GAAG,CAAC;AACX,YAAA,IAAI,OAAO,GAAG,IAAI,CAAC,8BAA8B,EAAE;AACnD,YAAA,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;gBAC1B,IAAI,CAAC,MAAM,EAAE;oBACT;AACH,gBAAA;;gBAGD,MAAM,YAAY,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM;AAC1C,qBAAA,OAAO,CAAC,KAAK,EAAE,KAAK;AACpB,qBAAA,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;AAC1B,gBAAA,MAAM,KAAK,GAAG,IAAI,MAAM,CAAC,YAAY,CAAC;gBACtC,IAAI,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC;AAC3B,gBAAA,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,MAAM,GAAC,CAAC,EAAE,CAAC,IAAI,CAAC,EAAG,CAAC,EAAE,EAAE;AACtC,oBAAA,MAAM,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC;oBACnB,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAC;AAC/B,oBAAA,IAAI,MAAM,EAAE;wBACR,SAAS,GAAG,IAAI;AAChB,wBAAA,MAAM,QAAQ,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC;AACrD,wBAAA,MAAM,MAAM,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,EAAE,QAAQ,CAAC;AAC/C,wBAAA,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;wBAC7C;AACH,oBAAA;AACJ,gBAAA;AACJ,YAAA;AACD,YAAA,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC;AACvB,YAAA,IAAI,SAAS,EAAE;gBACX,MAAM,QAAQ,GAAG,EAAE;AACnB,gBAAA,KAAK,IAAI,KAAK,GAAG,CAAC,EAAE,KAAK,GAAG,GAAG,GAAG,CAAC,EAAE,KAAK,EAAE,EAAE;AAC1C,oBAAA,QAAQ,CAAC,IAAI,CAAC,EAAE,MAAM,EAAE,IAAI,EAAE,WAAW,EAAE,KAAK,GAAG,CAAC,EAAE,CAAC;AAC1D,gBAAA;AACD,gBAAA,IAAI,CAAC,aAAa,GAAG,IAAI;AACzB,gBAAA,OAAO,QAAQ;AAClB,YAAA;AAAM,iBAAA;AACH,gBAAA,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;oBACrB,OAAO,IAAI,CAAC,YAAY;AAC3B,gBAAA;gBACD,OAAO,IAAI,CAAC,OAAO;AACtB,YAAA;AACJ,QAAA;AAAM,aAAA;AACH,YAAA,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;gBACrB,OAAO,IAAI,CAAC,YAAY;AAC3B,YAAA;YACD,OAAO,IAAI,CAAC,OAAO;AACtB,QAAA;IACL;AAEQ,IAAA,sBAAsB,CAAC,GAAG,EAAA;QAC9B,IAAI,IAAI,GAAG,KAAK;AAChB,QAAA,IAAI,GAAG,EAAE;AACL,YAAA,IAAI,OAAO,GAAG,IAAI,CAAC,8BAA8B,EAAE;AACnD,YAAA,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;gBAC1B,IAAI,CAAC,MAAM,EAAE;oBACT;AACH,gBAAA;gBACD,MAAM,GAAG,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC;AACrC,gBAAA,IAAI,GAAG,CAAC,GAAG,CAAC,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,MAAM,KAAK,CAAC,EAAE;oBACnC,IAAI,GAAG,IAAI;oBACX;AACH,gBAAA;AACJ,YAAA;AACJ,QAAA;AACD,QAAA,OAAO,IAAI;IACf;AAEQ,IAAA,yBAAyB,CAAC,GAAG,EAAA;QACjC,IAAI,SAAS,GAAG,KAAK;AACrB,QAAA,IAAI,GAAG,EAAE;AACL,YAAA,IAAI,OAAO,GAAG,IAAI,CAAC,8BAA8B,EAAE;AACnD,YAAA,KAAK,MAAM,MAAM,IAAI,OAAO,EAAE;gBAC1B,IAAI,CAAC,MAAM,EAAE;oBACT;AACH,gBAAA;gBACD,MAAM,KAAK,GAAG,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM;AACnC,qBAAA,OAAO,CAAC,KAAK,EAAE,KAAK;AACpB,qBAAA,OAAO,CAAC,KAAK,EAAE,KAAK,CAAC;gBAE1B,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,EAAE;oBAChC,IAAI,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,EAAE;AAC1B,wBAAA,MAAM,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,IAAI,MAAM,CAAC,KAAK,CAAC,CAAC;AAC3C,wBAAA,IAAI,MAAM,EAAE;4BACR,SAAS,GAAG,IAAI;AACnB,wBAAA;AACJ,oBAAA;AAAM,yBAAA;wBACH,SAAS,GAAG,KAAK;wBACjB;AACH,oBAAA;AACJ,gBAAA;AACJ,YAAA;AACJ,QAAA;AACD,QAAA,OAAO,SAAS;IACpB;AAGA,IAAA,gBAAgB,CAAC,OAAO,EAAA;AACpB,QAAA,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,OAAO,CAAC;IAC9C;AAEA;;;;;AAKG;AACK,IAAA,uBAAuB,CAAC,SAAS,EAAE,MAAM,EAAE,EAAE,EAAE,MAAM,EAAA;AACzD,QAAA,IAAI,WAAW;AACf,QAAA,IAAI,SAAS,EAAE,UAAU,KAAK,OAAO,IAAI,EAAE,SAAS,EAAE,gBAAgB,CAAC,EAAE;AACrE,YAAA,WAAW,GAAG,SAAS,EAAE,WAAW;YACpC,IAAI,WAAW,IAAI,WAAW,CAAC,QAAQ,CAAC,aAAa,CAAC,EAAE;gBACpD,MAAM,IAAI,GAAG,CAAC,WAAW,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC;AAClF,gBAAA,IAAI,IAAI,EAAE;AACN,oBAAA,KAAK,MAAM,OAAO,IAAI,IAAI,EAAE;wBACxB,IAAI,MAAM,GAAG,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAClC,wBAAA,MAAM,QAAQ,GAAG,IAAI,CAAC,8BAA8B,CAAC,UAAU,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,cAAc,CAAC;wBACrG,WAAW,GAAG,WAAW,CAAC,OAAO,CAAC,GAAG,GAAG,MAAM,GAAG,GAAG,EAAE,QAAQ,KAAK,SAAS,GAAG,GAAG,GAAG,QAAQ,GAAG,GAAG,GAAG,EAAE,CAAC;AAC5G,oBAAA;AACJ,gBAAA;AACJ,YAAA;AACJ,QAAA;AAAM,aAAA;YACH,WAAW,GAAG,IAAI,CAAC,gBAAgB,CAAC,MAAM,EAAE,EAAE,CAAC;YAC/C,IAAI,WAAW,KAAK,SAAS,EAAE;AAC3B,gBAAA,MAAM,YAAY,GAAG,SAAS,EAAE,qBAAqB,GAAG,SAAS,EAAE,qBAAqB,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,CAAC,cAAc,KAAK,eAAe,CAAC,GAAG,IAAI;AAC/I,gBAAA,IAAI,YAAY,EAAE;AACd,oBAAA,WAAW,GAAG,YAAY,CAAC,KAAK;AACnC,gBAAA;AACJ,YAAA;AACJ,QAAA;QACD,OAAO,WAAW,GAAG,WAAW,GAAG,EAAE;IACzC;AAEA;;;;;AAKG;IACK,gBAAgB,CAAC,MAAM,EAAE,EAAE,EAAA;;AAE/B,QAAA,IAAI,KAAK;AACT,QAAA,KAAK,MAAM,GAAG,IAAI,MAAM,EAAE;AACtB,YAAA,IAAI,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;AACnB,gBAAA,IAAI,GAAG;gBACP,MAAM,UAAU,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC;AACjC,gBAAA,KAAK,MAAM,SAAS,IAAI,UAAU,EAAE;AAChC,oBAAA,GAAG,GAAG,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,KAAK,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC;AACtH,gBAAA;gBACD,KAAK,GAAG,GAAG;AACd,YAAA;iBAAM,IAAI,IAAI,CAAC,WAAW,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;AAC7C,gBAAA,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC;AAChC,YAAA;AACI,iBAAA;AACD,gBAAA,MAAM,OAAO,GAAG,IAAI,CAAC,sBAAsB,CAAC,iBAAiB,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC;AACpF,gBAAA,IAAI,OAAO,EAAE;oBACT,KAAK,GAAG,OAAO;AAClB,gBAAA;AACJ,YAAA;AACJ,QAAA;QAED,IAAI,KAAK,KAAK,SAAS,EAAE;YACrB,KAAK,GAAG,IAAI,CAAC,cAAc,CAAC,qBAAqB,CAAC,EAAE,CAAC;AACxD,QAAA;AACD,QAAA,OAAO,KAAK;IAChB;AAEA;;;;AAIG;IACK,8BAA8B,CAAC,IAAI,EAAE,GAAG,EAAE,QAAQ,EAAE,cAAc,GAAG,IAAI,EAAA;AAC7E,QAAA,IAAI,GAAG,EAAE;AACL,YAAA,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;gBACrB,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;AACvC,gBAAA,IAAI,IAAI,CAAC,YAAY,EAAE,EAAE;AACrB,oBAAA,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,WAAW,EAAE,GAAG,GAAG,cAAc,GAAG,GAAG,CAAC,CAAC;AAC9D,gBAAA;gBACD,OAAO,IAAI,CAAC,UAAU,CAAC,kBAAkB,CACrC,IAAI,KAAK,UAAU;AACf,oBAAA,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;AAC7D,YAAA;AAAM,iBAAA;gBACH,IAAI,SAAS,GAAG,EAAE;gBAClB,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,OAAO,IAAG;oBAC9B,IAAI,SAAS,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC;AACpC,oBAAA,IAAI,SAAS,IAAI,SAAS,CAAC,MAAM,GAAG,CAAC,EAAE;AACnC,wBAAA,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC,CAAC;AACvD,oBAAA;AAAM,yBAAA;AACH,wBAAA,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC;AAC1B,oBAAA;AACL,gBAAA,CAAC,CAAC;gBACF,OAAO,IAAI,CAAC,UAAU,CAAC,kBAAkB,CACrC,IAAI,KAAK,UAAU;oBACf,IAAI,CAAC,UAAU,CAAC,sBAAsB,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC7F,YAAA;AACJ,QAAA;AAAM,aAAA;AACH,YAAA,OAAO,EAAE;AACZ,QAAA;IACL;AAEA;;AAEG;IACK,8BAA8B,GAAA;QAClC,IAAI,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAE;;;YAGhD,OAAO,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,CAAC,IAAI,EAAE,CAAC;AAC5E,QAAA;AAAM,aAAA;AACH,YAAA,MAAM,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC,kBAAkB,CAAC,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC;AAChF,YAAA,OAAO,IAAI;AACd,QAAA;IACL;IAEA,WAAW,GAAA;AACP,QAAA,KAAK,MAAM,GAAG,IAAI,IAAI,CAAC,WAAW,EAAE;AAChC,YAAA,IAAI,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,WAAW,EAAE;AACtC,YAAA;AACJ,QAAA;QAED,IAAI,IAAI,CAAC,YAAY,EAAE;AACnB,YAAA,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;AACnC,QAAA;AACD,QAAA,IAAI,CAAC,OAAO,GAAG,EAAE;AACjB,QAAA,IAAI,CAAC,YAAY,GAAG,EAAE;AACtB,QAAA,IAAI,CAAC,oBAAoB,GAAG,EAAE;IAElC;AACA,IAAA,WAAW,CAAC,OAAsB,EAAA;IAClC;6EArtBS,mBAAmB,EAAA,EAAA,CAAA,iBAAA,CAAAC,sBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,cAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,cAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,yBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,0BAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,EAAA,CAAA,WAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,oBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,GAAA,CAAA,MAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAAC,aAAA,CAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,EAAA,CAAA,SAAA,CAAA,CAAA,CAAA,CAAA,CAAA;6DAAnB,mBAAmB,EAAA,SAAA,EAAA,CAAA,CAAA,aAAA,CAAA,CAAA,EAAA,MAAA,EAAA,EAAA,MAAA,EAAA,QAAA,EAAA,SAAA,EAAA,WAAA,EAAA,UAAA,EAAA,YAAA,EAAA,kBAAA,EAAA,oBAAA,EAAA,iBAAA,EAAA,mBAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,QAAA,EAAA,UAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,OAAA,EAAA,SAAA,EAAA,WAAA,EAAA,aAAA,EAAA,EAAA,UAAA,EAAA,IAAA,EAAA,QAAA,EAAA,CAAA,EAAA,CAAA,oBAAA,EAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,KAAA,EAAA,CAAA,EAAA,IAAA,EAAA,CAAA,EAAA,MAAA,EAAA,CAAA,CAAA,UAAA,EAAA,EAAA,CAAA,EAAA,CAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,OAAA,EAAA,SAAA,EAAA,cAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,EAAA,OAAA,EAAA,CAAA,EAAA,MAAA,CAAA,EAAA,CAAA,CAAA,EAAA,IAAA,CAAA,EAAA,CAAA,CAAA,EAAA,kBAAA,EAAA,yBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,EAAA,aAAA,EAAA,gBAAA,EAAA,WAAA,EAAA,YAAA,EAAA,oBAAA,EAAA,mBAAA,EAAA,kBAAA,CAAA,EAAA,CAAA,CAAA,EAAA,mBAAA,EAAA,yBAAA,CAAA,CAAA,EAAA,QAAA,EAAA,SAAA,4BAAA,CAAA,EAAA,EAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,CAAA,EAAA;ADfhC,YAhBA,sFAAgC,CAAA,CAAA,EAAA,0CAAA,EAAA,CAAA,EAAA,CAAA,EAAA,aAAA,EAAA,IAAA,EAAA,CAAA,EAAA,EAAA,CAAA,sBAAA,CAgB+E;;YAhBhG,EAAA,CAAA,UAAA,CAAA,MAAA,EAAA,GAAA,CAAA,SAAA,CAAe;AC+BjB,QAAA,CAAA,CAAA,CAAA,EAAA,YAAA,EAAA,CAAA,mBAAmB,EAFC,kBAAkB,EAAE,WAAW,EAAE,YAAY,EAAAC,GAAA,CAAA,iBAAA,EAAAA,GAAA,CAAA,OAAA,EAAAA,GAAA,CAAA,IAAA,EAAAA,GAAA,CAAA,gBAAA,EAAAA,GAAA,CAAA,SAAA,CAAA,EAAA,CAAA;;iFAEjE,mBAAmB,EAAA,CAAA;cAP/B,SAAS;AACI,QAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,aAAa,EAAA,UAAA,EAGX,IAAI,EAAA,OAAA,EACP,CAAC,QAAQ,EAAE,OAAO,EAAE,kBAAkB,EAAE,WAAW,EAAE,YAAY,CAAC,EAAA,QAAA,EAAA,g9EAAA,EAAA;oVAG1D,MAAM,EAAA,CAAA;kBAAtB;YACgB,SAAS,EAAA,CAAA;kBAAzB;YACQ,UAAU,EAAA,CAAA;kBAAlB;YACQ,kBAAkB,EAAA,CAAA;kBAA1B;YACQ,iBAAiB,EAAA,CAAA;kBAAzB;YACQ,gBAAgB,EAAA,CAAA;kBAAxB;YACgB,QAAQ,EAAA,CAAA;kBAAxB;YACQ,cAAc,EAAA,CAAA;kBAAtB;YACQ,OAAO,EAAA,CAAA;kBAAf;YACQ,WAAW,EAAA,CAAA;kBAAnB;;kFAVQ,mBAAmB,EAAA,EAAA,SAAA,EAAA,qBAAA,EAAA,QAAA,EAAA,wDAAA,EAAA,UAAA,EAAA,EAAA,EAAA,CAAA,CAAA,CAAA,CAAA,GAAA;;;;"}